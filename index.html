<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.0.1',
    sidebar: {"position":"right","display":"always","offset":12,"onmobile":true,"dimmer":true},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="今天开始努力学习">
<meta property="og:url" content="https://bigphess.github.io/index.html">
<meta property="og:site_name" content="今天开始努力学习">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="今天开始努力学习">






  <link rel="canonical" href="https://bigphess.github.io/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>今天开始努力学习 – 面向谷歌编程选手许若芃</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-right 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">今天开始努力学习</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">面向谷歌编程选手许若芃</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories<span class="badge">47</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives<span class="badge">67</span></a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>Search</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    
  
  
  
  

  

  <a href="https://github.com/Bigphess" class="github-corner" title="垃圾代码都在我的github！" aria-label="垃圾代码都在我的github！" rel="noopener" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" style="fill: #222; color: #fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a>



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://bigphess.github.io/2019/10/27/关于Git/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RUOPENG XU">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天开始努力学习">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/10/27/关于Git/" class="post-title-link" itemprop="url">关于Git</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-10-27 15:04:49 / Modified: 16:44:55" itemprop="dateCreated datePublished" datetime="2019-10-27T15:04:49+09:00">2019-10-27</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/基础/" itemprop="url" rel="index"><span itemprop="name">基础</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/基础/工具/" itemprop="url" rel="index"><span itemprop="name">工具</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><a href="https://github.com/CyC2018/CS-Notes/blob/master/notes/Git.md#%E5%B7%A5%E4%BD%9C%E6%B5%81" target="_blank" rel="noopener">Git</a></li>
<li><a href="https://backlog.com/git-tutorial/cn/stepup/stepup1_2.html" target="_blank" rel="noopener">什么是分支</a></li>
<li><a href="http://www.cheat-sheets.org/saved-copy/git-cheat-sheet.pdf" target="_blank" rel="noopener">Git常用命令</a></li>
</ul>
<h1 id="集中式系统和分布式系统"><a href="#集中式系统和分布式系统" class="headerlink" title="集中式系统和分布式系统"></a>集中式系统和分布式系统</h1><p>Git属于分布式，SVN（subversion）是集中式的系统</p>
<ul>
<li>集中式只有在中心服务器有一份代码，分布式在每个人的电脑上都有一份代码</li>
<li>集中式版本控制有安全性问题（中心服务器挂了）</li>
<li>集中式需要联网才能工作。</li>
<li>分布式新建分支，合并分支的操作比较快。集中式新建分支相当于复制一份完整代码</li>
</ul>
<h1 id="中心服务器"><a href="#中心服务器" class="headerlink" title="中心服务器"></a>中心服务器</h1><p>Github作为中心服务器用于交换每个用户的修改，没有中心服务器也能工作，倒是中心服务器24小时开启方便交流。</p>
<h1 id="工作流"><a href="#工作流" class="headerlink" title="工作流"></a>工作流</h1><ul>
<li>新建仓库之后，目前的目录就成为了工作区。工作区有一个隐藏目录<strong>.git</strong>，属于Git的版本库</li>
<li>在版本库里面，有一个Stage的暂存区，以及History版本库。在History里面会储存所有的分支，然后会使用HEAD指针来指向目前分区<br><img src="/2019/10/27/关于Git/4.jpg" alt="区域"></li>
<li>使用 git add 会把文件添加到暂存区，也就是Stage</li>
<li>使用 git commit 会把暂存区的修改提交到<strong>当前的分支</strong>里面。提交之后暂存区就清空了</li>
<li>使用 git reset – 会使用现在的分支内容覆盖暂存区，也就是撤销最后一次<strong>add的操作</strong></li>
<li>使用 git checkout – 会用Stage的内容覆盖本地内容，撤销最后一次<strong>本地修改</strong><br>也可以用复合命令来跳过Stage的部分</li>
<li>如果使用 git commit -a可以直接把文件的修改先加到暂存区，然后再提交</li>
<li>如果使用 git checkout HEAD – 可以取出最后一次修改，也就是对本地文件进行回滚操作</li>
</ul>
<h1 id="分支的实现"><a href="#分支的实现" class="headerlink" title="分支的实现"></a>分支的实现</h1><p>在Git里面，使用了指针把每次的提交都连成一条线，HEAD会指向当前的指针<br><img src="/2019/10/27/关于Git/5.jpg" alt="branch-1"></p>
<p>新建分支会在时间线上最后一个节点新建分支，并且HEAD会指向新的分支。而对新的分支的每次提交只会让当前的指针移动，其他的指针不会移动</p>
<p><img src="/2019/10/27/关于Git/6.jpg" alt="branch-2"></p>
<p>合并的时候改变的也是Master的指针</p>
<h2 id="关于Git的分支-branch"><a href="#关于Git的分支-branch" class="headerlink" title="关于Git的分支(branch)"></a>关于Git的分支(branch)</h2><h3 id="什么是分支"><a href="#什么是分支" class="headerlink" title="什么是分支"></a>什么是分支</h3><ul>
<li>分支的意义：把现在的工作从主线上分离开，以免影响开发主线（这也是Git最大的优势，因为SVN开发新的分支相当于复制代码，速度非常慢）</li>
<li>为了不影响其他人的开发，可以在主线上建立自己的分支，工作完成后合并到主分支。每一次的提交会被保存，这样发生问题时候的定位就更加容易了<br><img src="/2019/10/27/关于Git/1.jpg" alt></li>
</ul>
<h3 id="分支的应用"><a href="#分支的应用" class="headerlink" title="分支的应用"></a>分支的应用</h3><ul>
<li>merge分支，为了可以随时发布release而创建的分支。通常大家会把master当成merge分支来使用</li>
<li>Topic分支：为了开发新功能或者修复Bug的分支，从merge里面创建，完成之后需要合并到merge里面去</li>
</ul>
<h3 id="分支的合并"><a href="#分支的合并" class="headerlink" title="分支的合并"></a>分支的合并</h3><ul>
<li>merge（历史记录会非常复杂）<ul>
<li>如果以前的master没有改变，可以直接合并（fast forward）<ul>
<li>可以在合并时加上–no-ff来进行Fast forward，加上-m生成一个新的commit</li>
<li>如果直接fast forward可能会丢失分支信息</li>
</ul>
</li>
<li>如果以前的有了新的更新，需要把两个分支修改的内容结合，生成一个新的提交<br><img src="/2019/10/27/关于Git/2.jpg" alt="merge"></li>
</ul>
</li>
<li>rebase（历史记录简单，但是可能会导致原来的内容无法正常运行）<ul>
<li>如果使用这个方法合并，最后得到的结果会是一条线性的。如果在提交的时候X和Y发生冲突，需要修改冲突的部分<br><img src="/2019/10/27/关于Git/3.jpg" alt="rebase"></li>
</ul>
</li>
</ul>
<h2 id="分支的冲突"><a href="#分支的冲突" class="headerlink" title="分支的冲突"></a>分支的冲突</h2><p>如果两个分支对同一个文件都进行了修改，合并的时候就会产生冲突。把不同分支的内容修改成一样的就可以解决<br>在Git里面会用 &lt;&lt;&lt;&lt;&lt; ===== &gt;&gt;&gt;&gt;&gt;来表示</p>
<h1 id="储藏-Stashing"><a href="#储藏-Stashing" class="headerlink" title="储藏 Stashing"></a>储藏 Stashing</h1><p>在一个分支上操作之后，如果没有提交这个分支就进行切换，那么在另一个分支上也能看到修改。因为所有的分支都公用一个工作区域。</p>
<ul>
<li>可以使用 git stash把当前的分支修改储藏起来，这样就可以安全的切换到其他分支</li>
<li>比如，如果正在dev分支上开发，此时有master上面的bug需要修改，但是dev的开发还没有完成。这时候可以新建一个bug分支，并且切换到bug之前先用stash把目前dev的开发进度储存起来</li>
</ul>
<h1 id="SSH传输设置"><a href="#SSH传输设置" class="headerlink" title="SSH传输设置"></a>SSH传输设置</h1><p>Git的仓库和Github的中心仓库是通过SSH进行加密的</p>
<h1 id="gitignore"><a href="#gitignore" class="headerlink" title=".gitignore"></a>.gitignore</h1><p>这个文件可以忽略以下的文件：</p>
<ul>
<li>操作系统自动生成的文件，比如缩略图</li>
<li>编译生成的中间文件</li>
<li>自己的敏感信息。比如存放口令的配置文件</li>
</ul>
<p><a href="https://github.com/github/gitignore" target="_blank" rel="noopener">gitignore</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://bigphess.github.io/2019/10/24/正则表达式/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RUOPENG XU">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天开始努力学习">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/10/24/正则表达式/" class="post-title-link" itemprop="url">正则表达式</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-10-24 22:33:16" itemprop="dateCreated datePublished" datetime="2019-10-24T22:33:16+09:00">2019-10-24</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-10-27 15:54:57" itemprop="dateModified" datetime="2019-10-27T15:54:57+09:00">2019-10-27</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/基础/" itemprop="url" rel="index"><span itemprop="name">基础</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/基础/工具/" itemprop="url" rel="index"><span itemprop="name">工具</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>参考资料：</p>
<ul>
<li><a href="https://www.cnblogs.com/zery/p/3438845.html" target="_blank" rel="noopener">读懂正则表达式就是这么简单</a></li>
<li><a href="https://github.com/CyC2018/CS-Notes/blob/master/notes/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F.md" target="_blank" rel="noopener">正则表达式</a></li>
<li><a href="https://regexr.com/" target="_blank" rel="noopener">正则表达式网站</a></li>
</ul>
<h1 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h1><p>正規表現（せいきひょうげん、英: regular expression）形式言語分野<br>用于文本内容的查找和替换（差し替える）<br>用于其他语言或者产品软件里面<br><strong>在使用的时候一定要注意转义符号\，不使用这个符号的时候代表的是真实的内容，使用了才有相应的意思</strong></p>
<h1 id="正则字符"><a href="#正则字符" class="headerlink" title="正则字符"></a>正则字符</h1><h2 id="元符号"><a href="#元符号" class="headerlink" title="元符号"></a>元符号</h2><ul>
<li>被匹配的字符第一个必须和^之后的一样，最后一个必须和$之前的一样</li>
<li>“^”：<ul>
<li>匹配行或字符串的起始位置</li>
<li>整个文档的起始位置</li>
</ul>
</li>
<li><p>＄：行或者字符串的结尾</p>
</li>
<li><p>\b：用于匹配边界，不消耗字符（Boundary）</p>
<ul>
<li>\bis\b 用来识别is的两边是否是边界</li>
</ul>
</li>
<li>\d：匹配数字（digit）<ul>
<li>比如0开头，五位数-&gt; ^0\d\d\d\d\d$</li>
</ul>
</li>
<li>\w：匹配字母，数字，下划线（基本可以理解为注册用户名的要求）</li>
<li>\s：匹配空格，\s+可以让空格重复</li>
<li>.：匹配除了转行符号以外的任何字符。\w的加强版，相当于w加上空格</li>
<li>[]：匹配在空号内元素的字符，只匹配存在于括号里面的。可以写成[a-z]</li>
</ul>
<h2 id="反义"><a href="#反义" class="headerlink" title="反义"></a>反义</h2><p>上面的表达写成大写，如果是[]的话变成[^]，表达的意思是<strong>不包括这些的字符</strong></p>
<h2 id="量词"><a href="#量词" class="headerlink" title="量词"></a>量词</h2><p>有关量词的三个概念：</p>
<ul>
<li>贪心 * 会首先匹配整个字符串，会选择尽可能多的内容，失败的话就backtracking（<strong>消耗最大</strong>）</li>
<li>懒惰 ？从起始位置开始尝试匹配，每次检查一个内容，直到检查完所有的内容（相当于遍历）</li>
<li>占有 + 覆盖整个字符串，然后寻找。但是就试一次</li>
</ul>
<p>相关量词：</p>
<ul>
<li>贪心* 会重复0次或者更多<ul>
<li>”aaaaa“里面匹配a* ，那么得到的是所有的字符a</li>
</ul>
</li>
<li><ul>
<li>重复一次或多次：<ul>
<li>”aaaaa“，a+会取字符中所有a值，但是* 可以是0次，+不行</li>
</ul>
</li>
</ul>
</li>
<li>? 重复零次或一次<ul>
<li>”aaaaa“，a?只会匹配一次，结果也是单个字符a</li>
</ul>
</li>
<li>{n}，重复n次，比如a{3}会匹配aaa</li>
<li>{n,m} 重复n-m次，比如a{3,4}可以匹配到aaa或者aaaa</li>
<li>{n,} 重复n次或更多次，也就是至少重复n次</li>
</ul>
<h2 id="懒惰限定符（大家和？的排列组合）"><a href="#懒惰限定符（大家和？的排列组合）" class="headerlink" title="懒惰限定符（大家和？的排列组合）"></a>懒惰限定符（大家和？的排列组合）</h2><ul>
<li>*？ 重复任意次，但是尽可能少重复<ul>
<li>比如 acbacb，正则 a.*?b，只会匹配acb，因为需要.重复的数量尽可能少</li>
</ul>
</li>
<li>+？重复1次或者更多次，但是尽可能少重复</li>
<li>?? 重复0次或一次，但是尽可能少重复</li>
<li>{n,m}重复n-m次，但是尽可能少重复。比如a{0,m}?取到的是空</li>
<li>{n,}？至少重复n次，尽可能少重复</li>
</ul>
<h1 id="进阶"><a href="#进阶" class="headerlink" title="进阶"></a>进阶</h1><h2 id="捕获分组"><a href="#捕获分组" class="headerlink" title="捕获分组"></a>捕获分组</h2><p>如果给一部分的内容加上了括号，这部分的内容就被抓住了。然后如果后面用到了相同内容的表达式，就可以直接用一个符号代替，而不用继续写一个了。<br>不考虑重复使用的时候，也可以单独只用于分组，分组之后的内容可以加上+ * ？等内容进行重复。但是注意嵌套层数过多会引起歧义<br>常用写法</p>
<ul>
<li>(exp)：匹配exp。捕获到自动命名的组里面，\1这样的</li>
<li>(?<name>exp)匹配exp,捕获内容并自己命名，后面引用的时候需要 “\k<name>“</name></name></li>
<li>(?:exp)：匹配exp，但是<strong>不捕获</strong>，也不给这个组分配编号</li>
<li>(?=exp)：匹配exp前面的位置<ul>
<li>how are you doing，正则(?<txt>.+(?=ing))，去ing前面的字符，匹配出来的是how are you do（匹配ing之前的.+）</txt></li>
</ul>
</li>
<li>(?&lt;=exp)：匹配后面的位置。比如(?<txt>(?&lt;=how).+)，匹配后面的位置，也就是匹配how之后的.+</txt></li>
<li>(?!exp)：匹配后面不跟着exp的位置。比如\d{3}(?!\d)匹配三个数字，然后后面不再跟数字了</li>
<li>(?&lt;!exp)：匹配前面不是exp的位置。(?!&lt;[0-9])123，匹配123，并且123前面不能是数字</li>
</ul>
<h2 id="例子："><a href="#例子：" class="headerlink" title="例子："></a>例子：</h2><h3 id="分组使用"><a href="#分组使用" class="headerlink" title="分组使用"></a>分组使用</h3><p>比如匹配IP地址，IP地址由四部分组成，每一部分是0-255的数字。则可以分为以下的部分表示</p>
<ul>
<li>一位数字</li>
<li>不以0开头的两位数</li>
<li>2开头，第二位是0-4的三位数</li>
<li>25开头，第三位是0-5的三位数<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">((<span class="number">25</span>[<span class="number">0</span><span class="number">-5</span>]|(<span class="number">2</span>[<span class="number">0</span><span class="number">-4</span>]\d)|(<span class="number">1</span>\d&#123;<span class="number">2</span>&#125;)|([<span class="number">1</span><span class="number">-9</span>]\d)|(\d))\.)&#123;<span class="number">3</span>&#125;(<span class="number">25</span>[<span class="number">0</span><span class="number">-5</span>]|(<span class="number">2</span>[<span class="number">0</span><span class="number">-4</span>]\d)|(<span class="number">1</span>\d&#123;<span class="number">2</span>&#125;)|([<span class="number">1</span><span class="number">-9</span>]\d)|(\d))</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="回溯引用"><a href="#回溯引用" class="headerlink" title="回溯引用"></a>回溯引用</h3><p>比如匹配HTML里面的标题元素<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;(h[<span class="number">1</span><span class="number">-6</span>])&gt;\w*?&lt;\/\<span class="number">1</span>&gt;</span><br></pre></td></tr></table></figure></p>
<p>其中，h[1-6]被分为一组，这一组的名字叫做\1，也就是说前后的两部分需要一样。h1对h1，h2对h2才能匹配上</p>
<h3 id="替换（需要两个regexp）"><a href="#替换（需要两个regexp）" class="headerlink" title="替换（需要两个regexp）"></a>替换（需要两个regexp）</h3><p>比如修改电话号码格式<br>313-555-1234</p>
<ul>
<li>查找的正则式<code>(\d{3})(-)(\d{3})(-)(\d{4})</code></li>
<li>需要替换成为的格式<code>（$1）$3-$5</code>。也就是说把第一个正则式中的第1，3，5个括号直接代入了后面替换的格式里面</li>
<li>替换之后的内容 (313)555-1234</li>
</ul>
<h3 id="大小写转变"><a href="#大小写转变" class="headerlink" title="大小写转变"></a>大小写转变</h3><ul>
<li>\l 把后面跟随的单独的字符改成小写</li>
<li>\u 把单独的字符改成大写</li>
<li>\L 把L之后，E之前的全都变成小写</li>
<li>\U 把U之后，E之前的全都变成大写</li>
<li>\E 结束符号</li>
</ul>
<p>如，abcd，查找<code>(\w)(\w{2})(\w)</code>，然后改为<code>$1\U$2\E$3</code></p>
<h3 id="前后查找"><a href="#前后查找" class="headerlink" title="前后查找"></a>前后查找</h3><p>订好了应该匹配的内容的首尾内容，但是不包括这个首尾内容。也就是前面说到的向前匹配？=和向后匹配?&lt;=.（但是js不支持向后匹配）。如果要找非的条件的时候，需要把=换成!</p>
<ul>
<li>比如匹配邮箱的@前面的部分 <code>(\w+|.)+(?=@)</code>（这里加上了.，因为我的学校邮箱@前面也是有. 的）</li>
<li>匹配结果： <a href="mailto:**xu.r.aa**@m.titech.ac.jp" target="_blank" rel="noopener">**xu.r.aa**@m.titech.ac.jp</a></li>
</ul>
<h3 id="嵌入条件"><a href="#嵌入条件" class="headerlink" title="嵌入条件"></a>嵌入条件</h3><h4 id="回溯引用-1"><a href="#回溯引用-1" class="headerlink" title="回溯引用"></a>回溯引用</h4><p>判断某个表达式是否匹配，如果匹配的话继续匹配后面的条件<br><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(\()?abc(<span class="name">?</span>(<span class="name">1</span>)\))</span><br></pre></td></tr></table></figure></p>
<ul>
<li>先匹配左括号（(），？来判断左括号有0个或者1个</li>
<li>？(1)是判断的表达式，也就是说能匹配到左括号的时候，再匹配右括号。</li>
<li>匹配结果：<br><strong>abc</strong><br><strong>（abc）</strong><br>（abc</li>
</ul>
<h4 id="前后查找-1"><a href="#前后查找-1" class="headerlink" title="前后查找"></a>前后查找</h4><p>条件为首尾是否匹配，如果匹配的话继续（注意首尾不包括在匹配内容里面）<br><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">d</span><span class="string">&#123;5&#125;</span></span>(?(?=-)-<span class="tag">\<span class="name">d</span><span class="string">&#123;4&#125;</span></span>)</span><br></pre></td></tr></table></figure></p>
<ul>
<li>首先匹配五位数字</li>
<li>(?=-)表示向前查找-，也就是对-向前查找，作为条件。如果向前查找成功了，那么继续进行后面的操作，也就是匹配一个-，然后匹配一个4位数字<br><strong>44444-4444</strong><br>44444-<br><strong>66666</strong></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://bigphess.github.io/2019/10/16/算法：回溯Backtracking/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RUOPENG XU">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天开始努力学习">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/10/16/算法：回溯Backtracking/" class="post-title-link" itemprop="url">算法：回溯Backtracking</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-10-16 17:32:43 / Modified: 17:33:14" itemprop="dateCreated datePublished" datetime="2019-10-16T17:32:43+09:00">2019-10-16</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/算法/" itemprop="url" rel="index"><span itemprop="name">算法</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/算法/回溯/" itemprop="url" rel="index"><span itemprop="name">回溯</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://bigphess.github.io/2019/10/02/Unity练习Flappy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RUOPENG XU">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天开始努力学习">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/10/02/Unity练习Flappy/" class="post-title-link" itemprop="url">Unity练习FlappyBird</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-10-02 14:19:38" itemprop="dateCreated datePublished" datetime="2019-10-02T14:19:38+09:00">2019-10-02</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-10-08 13:33:47" itemprop="dateModified" datetime="2019-10-08T13:33:47+09:00">2019-10-08</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Unity/" itemprop="url" rel="index"><span itemprop="name">Unity</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Unity/练习/" itemprop="url" rel="index"><span itemprop="name">练习</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>教程及素材源自unity官方的learning资料<a href="https://learn.unity.com/tutorial/live-session-making-a-flappy-bird-style-game/?tab=materials#5c7f8528edbc2a002053b6a7" target="_blank" rel="noopener">FlappyBird</a></p>
<p>整体思路：在游戏里物体本体是不会移动的，只有后面的背景滚轴一直在移动，然后每次在玩家视野外生成随机高度的柱子。柱子和背景一起滚动。</p>
<h1 id="生成鸟的物体"><a href="#生成鸟的物体" class="headerlink" title="生成鸟的物体"></a>生成鸟的物体</h1><h2 id="sprite"><a href="#sprite" class="headerlink" title="sprite"></a>sprite</h2><ul>
<li>sprite是一种半透明的texture。不会直接被用于mesh，而是会用在长方形或者正方形上</li>
<li>修改texture type就可以修改</li>
<li>与canvas render的区别：前者必须放在canvas里面，而后者可以放在hierarchy的任何地方</li>
<li>sprite支持网格构造，可以清除不必要的透明元素，可以一定情况下避免overdraw的问题</li>
</ul>
<h3 id="sorting-layer"><a href="#sorting-layer" class="headerlink" title="sorting layer"></a>sorting layer</h3><ul>
<li>在sprite render里面会有一项叫做sorting layer，这个功能可以决定画面的前景和后景的遮挡关系。写的越靠下的越前</li>
</ul>
<h2 id="rigidbody-collider"><a href="#rigidbody-collider" class="headerlink" title="rigidbody + collider"></a>rigidbody + collider</h2><ul>
<li>需要设置刚体和碰撞关系</li>
<li>这里面的碰撞器设置的种类是多边形的</li>
</ul>
<h2 id="animator（getcomponent）"><a href="#animator（getcomponent）" class="headerlink" title="animator（getcomponent）"></a>animator（getcomponent<animator>）</animator></h2><ul>
<li>在这个游戏里，鸟的不同动作会触发不同的动画，所以需要为这个鸟构建一个动画来表现</li>
<li>在animation里面，可以给鸟不同的动作不同的clip。在运行状态下修改鸟在不同clip里面的renderer。</li>
<li>在animator里面可以设置不同动画之间切换的逻辑关系<ul>
<li>一种是根据条件切换，需要为不同的条件设置不同的paramter（这里设定的是trigger，这个状态可以直接在script里面set，注意拼写需要一样）（正常 -按-&gt; 挥动翅膀/ 正常 -撞墙-&gt; 死亡）</li>
<li>一种是根据时间切换（挥动翅膀 -&gt; 正常状态）</li>
</ul>
</li>
</ul>
<h2 id="鸟的行为逻辑"><a href="#鸟的行为逻辑" class="headerlink" title="鸟的行为逻辑"></a>鸟的行为逻辑</h2><ul>
<li>运动：本身的x轴不会运动，y轴在每次按鼠标的时候上升（addForce），不按的时候重力自由落体（对应上升动画）</li>
<li>碰撞：碰撞到地面或者柱子都会死亡（对应死亡动画）</li>
<li>在鸟死亡的时候，会对应鸟的死亡状态在controller里面的切换</li>
</ul>
<h1 id="UI制作"><a href="#UI制作" class="headerlink" title="UI制作"></a>UI制作</h1><ul>
<li>UI使用的就是普通的UI模式，注意所有text都是在canvas里面的</li>
<li>导入素材包字体，可以给字体加阴影</li>
<li>UI的分数变化在gamecontroller里面进行操作</li>
<li>字体锚点位置调整需要按alt/option</li>
</ul>
<h1 id="gameControll"><a href="#gameControll" class="headerlink" title="gameControll"></a>gameControll</h1><ul>
<li>设定了一个static的GameControl（这是这个自建类的名字）的object，名字是instance。设定成static之后，无论在哪里的code里面想要访问这个instance，只需要call<code>GameControl.instance</code>就可以了</li>
<li><p>为了保证里面拥有这个instance，需要在awake的时候进行检查</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Awake</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            instance = <span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(instance != <span class="keyword">this</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Destroy(gameObject);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在gameControl里面设置好了游戏结束的变量，这个变量可以直接在bird的script里面访问，这样就可以直接在bird里面决定游戏结束没结束，再在现在的control里面决定分数的变化，scene的切换等</p>
</li>
<li>也可以在这里操作，游戏重新开始<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (gameOver &amp;&amp; Input.GetMouseButtonDown(<span class="number">0</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            SceneManager.LoadScene(SceneManager.GetActiveScene().buildIndex);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="地面（及背景：作为地面的子物体）"><a href="#地面（及背景：作为地面的子物体）" class="headerlink" title="地面（及背景：作为地面的子物体）"></a>地面（及背景：作为地面的子物体）</h1><ul>
<li>地面应该有collider，这样鸟撞到地面上才会死。需要用rd</li>
<li>地面应该在start开始就按照一个速度进行负移动，如果游戏结束的话，地面停止移动</li>
<li>地面应该复制两份，当每次第一份快要移动到头的时候，第二份移动到第一份前面去（这个距离可以直接用collider的size来决定</li>
<li>地面的rd应该设置成kinematic，也就是除了script让移动，其他的方法不会让他移动</li>
</ul>
<h1 id="障碍物"><a href="#障碍物" class="headerlink" title="障碍物"></a>障碍物</h1><ul>
<li>障碍物应该设置成prefab，制作好的东西直接拖进prefab文件夹就可以了。在用的时候可以直接在gamecontrol的物体里面操作这个prefab，直接拖进去就可以了</li>
<li>障碍物本身应该增加了一个box collider的trigger，然后在每个柱子本身里面加上了<code>OnTriggerEnter2D(Collider2D other)</code>，也就是在这个trigger的区域里面遇到鸟的时候，会call加分的函数</li>
</ul>
<h2 id="pool"><a href="#pool" class="headerlink" title="pool"></a>pool</h2><ul>
<li>生成柱子的方法，目前的方法是每次生成五个柱子，存在一个array里面，每次时间到了就随机新的柱子的位置。如果五个柱子都用完了就重头开始，也就是从index是0的柱子开始，重新定位坐标</li>
<li>在初始化五个柱子的时候，用了<code>Object.Instantiate</code>，也就是把这五个柱子在指定的位置复制了五次。其中rotation的参数设置的是<code>Quaternion.identity</code>，也就是没有旋转的意思</li>
</ul>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ColumnPool</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> ColumnSize = <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">public</span> GameObject columnPrefab;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">float</span> SpwandRate = <span class="number">4f</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">float</span> columnMin = <span class="number">-2f</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">float</span> columnMax = <span class="number">2f</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> GameObject[] columns;</span><br><span class="line">    <span class="keyword">private</span> Vector2 objectPoolPosition = <span class="keyword">new</span> Vector2(<span class="number">-15f</span>, <span class="number">-25f</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> timeSinceLastSpwand;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> spwandXPosition = <span class="number">10f</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> currentColumn = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        columns = <span class="keyword">new</span> GameObject[ColumnSize];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ColumnSize; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            columns[i] = (GameObject)Instantiate(columnPrefab, objectPoolPosition, Quaternion.identity);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        timeSinceLastSpwand += Time.deltaTime;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (GameControl.instance.gameOver == <span class="literal">false</span> &amp;&amp; timeSinceLastSpwand &gt;= SpwandRate)</span><br><span class="line">        &#123;</span><br><span class="line">            timeSinceLastSpwand = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">float</span> spawnYposition = Random.Range(columnMin, columnMax);</span><br><span class="line">            columns[currentColumn].transform.position = <span class="keyword">new</span> Vector2(spwandXPosition, spawnYposition);</span><br><span class="line">            currentColumn++;</span><br><span class="line">            <span class="keyword">if</span>(currentColumn == <span class="number">4</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                currentColumn = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上，简易版的flappybird就制作完毕了</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://bigphess.github.io/2019/09/14/日语敬语学习/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RUOPENG XU">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天开始努力学习">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/09/14/日语敬语学习/" class="post-title-link" itemprop="url">日语敬语学习</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-09-14 15:55:19" itemprop="dateCreated datePublished" datetime="2019-09-14T15:55:19+09:00">2019-09-14</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-09-16 20:54:14" itemprop="dateModified" datetime="2019-09-16T20:54:14+09:00">2019-09-16</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/日语/" itemprop="url" rel="index"><span itemprop="name">日语</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/日语/敬语/" itemprop="url" rel="index"><span itemprop="name">敬语</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="从头开始了解"><a href="#从头开始了解" class="headerlink" title="从头开始了解"></a>从头开始了解</h2><h3 id="一些经常听到的用法"><a href="#一些经常听到的用法" class="headerlink" title="一些经常听到的用法"></a>一些经常听到的用法</h3><ul>
<li>本日　＝　今日</li>
<li>まことに　＝　本当に</li>
<li>ご案内申し上げます　＝　知らせます</li>
<li>ただいま　＝　いま</li>
<li>〜におきまして　＝　で</li>
<li>〜でございます　＝　〜です</li>
<li>来場する　＝　会場に来る</li>
</ul>
<h3 id="敬语的分组"><a href="#敬语的分组" class="headerlink" title="敬语的分组"></a>敬语的分组</h3><ul>
<li>尊敬语：用来描述对方的行为，直接表示敬意</li>
<li>谦让语；描述自己做的事，贬低自己，间接的表示敬意</li>
<li>丁宁语：让整个对话的气氛都变得很丁宁，气氛比较郑重</li>
</ul>
<h3 id="基本常识"><a href="#基本常识" class="headerlink" title="基本常识"></a>基本常识</h3><ul>
<li>一般来说，礼貌程度可以分成三个阶层，分别是疯狂使用敬语的 -&gt; 使用ですます的 -&gt; 使用普通形态的朋友间的对话</li>
<li>一般来说，对外的人用敬语，对内的人不同敬语<ul>
<li>比如有人打电话到了公司，问你的部长在不在，你自己说部长的时候就不用用敬语了</li>
</ul>
</li>
</ul>
<h1 id="下面开始根据不同的场合使用敬语"><a href="#下面开始根据不同的场合使用敬语" class="headerlink" title="下面开始根据不同的场合使用敬语"></a>下面开始根据不同的场合使用敬语</h1><h2 id="访问"><a href="#访问" class="headerlink" title="访问"></a>访问</h2><h3 id="访问时候的特定用语"><a href="#访问时候的特定用语" class="headerlink" title="访问时候的特定用语"></a>访问时候的特定用语</h3><ul>
<li>玄关处<ul>
<li>ごめんください</li>
<li>すいません</li>
</ul>
</li>
<li>部屋に入る時<ul>
<li>お邪魔します</li>
<li>失礼します</li>
<li>失礼いたします</li>
</ul>
</li>
<li>部屋を出る時<ul>
<li>失礼します</li>
<li>失礼いたします</li>
</ul>
</li>
</ul>
<h3 id="お／ご〜ください"><a href="#お／ご〜ください" class="headerlink" title="お／ご〜ください"></a>お／ご〜ください</h3><ul>
<li>〜てください的丁宁用法</li>
<li>masu型去masu加上后面的<strong>お</strong>，或者suru型直接加后面的<strong>ご</strong></li>
<li>例子<ul>
<li>お入りください</li>
<li>お上りください　-&gt; 请进的意思 come in</li>
<li>おかけください -&gt; 请坐，比如沙发，椅子啥的。<strong>和打电话没有关系</strong></li>
<li>日本語でお話しください</li>
<li>ご注意ください</li>
</ul>
</li>
<li><strong>注意</strong>：这里没有te，不要顺便加上te，没有te，没有！！！！！</li>
</ul>
<h3 id="つまらないものですが…"><a href="#つまらないものですが…" class="headerlink" title="つまらないものですが…"></a>つまらないものですが…</h3><ul>
<li>一点小东西，不成敬意</li>
<li>更随意的时候可以说（给别人买了吃的的话）：美味しいので買ってきました</li>
</ul>
<h3 id="お〜になります"><a href="#お〜になります" class="headerlink" title="お〜になります"></a>お〜になります</h3><ul>
<li>〜ます的丁宁语，suru的动词不能用这个用法</li>
<li>也就是说一般的动词，如果不是特殊型的话，可以用这个用法代替平常直接用masu</li>
<li>例<ul>
<li>この教科書は鈴木先生がお書きになります</li>
<li>社長、今朝の新聞をお読になりましたか</li>
</ul>
</li>
</ul>
<h3 id="上面的尊敬语的特别变形"><a href="#上面的尊敬语的特别变形" class="headerlink" title="上面的尊敬语的特别变形"></a>上面的尊敬语的特别变形</h3><ul>
<li>食べます　-&gt; (🙅‍♀x)お食べになります　-&gt; (●)召し上がります</li>
<li>します　-&gt; (🙅‍♀x)おしになります　-&gt; (●)なさいます</li>
<li>見ます　-&gt; (🙅‍♀x)お見になります　-&gt; (●)ご覧になります</li>
<li>也就是说，如果是三类动词的话，后面的する直接变成なさいます</li>
<li><strong>注意</strong>：特别变形如果想用ください的时候，可以直接用特别变形之后的动词加上てください、<strong>现在这里是有te的，比如おっしゃってください 请说</strong></li>
</ul>
<h3 id="被动：更加简单一点的用法"><a href="#被动：更加简单一点的用法" class="headerlink" title="被动：更加简单一点的用法"></a>被动：更加简单一点的用法</h3><ul>
<li>使用和被动态相同的方法来表示尊敬，不用像上面的お〜になります这么麻烦，根据上下文可以推测实际的意思</li>
<li>例<ul>
<li>書きます　-&gt; 書かれます／　読みます　-&gt; 読まれます</li>
<li>出ます　-&gt; 出られます</li>
<li>します　-&gt; されます／　来ます　-&gt; 来られます</li>
</ul>
</li>
<li><strong>注意</strong>：这种用法不能和ください一起用，不能用被动后面加ください，要用ください的话请直接用上面的那个带ください的方法</li>
<li>注意：被动型 不要顺嘴和させ说混</li>
</ul>
<h3 id="特殊敬语构成表"><a href="#特殊敬语构成表" class="headerlink" title="特殊敬语构成表"></a>特殊敬语构成表</h3><table>
<thead>
<tr>
<th>动词</th>
<th style="text-align:right">尊敬语</th>
<th style="text-align:center">谦让语</th>
</tr>
</thead>
<tbody>
<tr>
<td>行きます</td>
<td style="text-align:right">いらしゃいます／おいでになります</td>
<td style="text-align:center">参ります／伺います</td>
</tr>
<tr>
<td>来ます</td>
<td style="text-align:right">いらしゃいます／おいでになります　</td>
<td style="text-align:center">参ります</td>
</tr>
<tr>
<td>います</td>
<td style="text-align:right">いらしゃいます／おいでになります</td>
<td style="text-align:center">おります</td>
</tr>
<tr>
<td>言います</td>
<td style="text-align:right">おっしゃいます</td>
<td style="text-align:center">（許と）申します／（意見を）申し上げます</td>
</tr>
<tr>
<td>見ます</td>
<td style="text-align:right">ご覧になります</td>
<td style="text-align:center">拝見します</td>
</tr>
<tr>
<td>食べます／飲みます</td>
<td style="text-align:right">召し上がります</td>
<td style="text-align:center">いただきます</td>
</tr>
<tr>
<td>知っています</td>
<td style="text-align:right">ご存知です</td>
<td style="text-align:center">存じております／知っております／（金子部長を）存じ上げております</td>
</tr>
<tr>
<td>思います</td>
<td style="text-align:right">お思いになります</td>
<td style="text-align:center">存じます</td>
</tr>
<tr>
<td>します</td>
<td style="text-align:right">なさいます</td>
<td style="text-align:center">いたします</td>
</tr>
<tr>
<td>くれます</td>
<td style="text-align:right">くださいます</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>あげます</td>
<td style="text-align:right"></td>
<td style="text-align:center">さしあげます</td>
</tr>
<tr>
<td>もらいます</td>
<td style="text-align:right"></td>
<td style="text-align:center">いただきます</td>
</tr>
<tr>
<td>会います</td>
<td style="text-align:right">お会いになります</td>
<td style="text-align:center">お会いします／お目にかかります</td>
</tr>
<tr>
<td>聞きます</td>
<td style="text-align:right">お聞きになります</td>
<td style="text-align:center">お聞きします／伺います</td>
</tr>
<tr>
<td>あります</td>
<td style="text-align:right">あります</td>
<td style="text-align:center">ございます</td>
</tr>
<tr>
<td>寝ます</td>
<td style="text-align:right">お休みになります</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>着ます</td>
<td style="text-align:right"><strong>お召しになります</strong></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>住んでいます</td>
<td style="text-align:right"><strong>お住まいです</strong></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>持ちます／持っていきます／持ってきます</td>
<td style="text-align:right">お持ちになります</td>
<td style="text-align:center">お持ちします</td>
</tr>
<tr>
<td>死にました</td>
<td style="text-align:right">お亡くなりになりました</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td>〜です</td>
<td style="text-align:right"><strong>で</strong>いらしゃいます</td>
<td style="text-align:center">でございます</td>
</tr>
<tr>
<td>〜ています</td>
<td style="text-align:right"><strong>て</strong>いらしゃいます</td>
<td style="text-align:center">でおります</td>
</tr>
</tbody>
</table>
<ul>
<li>尊敬语和谦让语的总结<ul>
<li>句型<ul>
<li>尊敬 お／ご〜になります　お／ご〜ください</li>
<li>谦让　お／ご〜します</li>
</ul>
</li>
<li>简单用法<ul>
<li><strong>只有尊敬语</strong>可以用被动来表示尊敬</li>
</ul>
</li>
<li>特别型见表</li>
</ul>
</li>
</ul>
<ul>
<li><p>注意尊敬语：</p>
<ul>
<li>吃和穿长得差不多，但是吃喝里面不需要前面的お</li>
<li>说里面带促音</li>
<li>虽然想听起来很奇怪，但是真的是这样的</li>
<li>住这个词有些奇怪</li>
<li>死一定是过去式的</li>
</ul>
</li>
<li><p>注意谦让语</p>
<ul>
<li>来和去都可以是 参。 但是去还有伺う。同时伺う还有听的意思</li>
<li>存じ 在知道和想里面都可以用，注意区别。知道是te型的，所以是おります</li>
</ul>
</li>
</ul>
<h2 id="打招呼"><a href="#打招呼" class="headerlink" title="打招呼"></a>打招呼</h2><h3 id="经常使用的あいさつ"><a href="#经常使用的あいさつ" class="headerlink" title="经常使用的あいさつ"></a>经常使用的あいさつ</h3><ul>
<li>朝<ul>
<li>おはようがざいます</li>
<li>おはよう</li>
</ul>
</li>
<li>会社から帰り時<ul>
<li>それでは、お失礼にします／失礼いたします</li>
<li>じゃ、お先に</li>
</ul>
</li>
<li>お礼<ul>
<li>ありがどうございます　-&gt; いいえ／こちらこそ／どういたしまして</li>
<li>ありがどう　-&gt; ううん／大丈夫だよ</li>
</ul>
</li>
<li>天気<ul>
<li>いい天気ですね／暑いですね／雨がよく降りますね　-&gt; そうですね</li>
<li>いい天気だよ／暑いね／よく降るね　-&gt; そうだね</li>
</ul>
</li>
<li>別れる時<ul>
<li>失礼します／失礼いたします　-&gt; お気をつけて／それではまた</li>
<li>じゃあね　-&gt; 気をつけてね／じゃ、また</li>
</ul>
</li>
</ul>
<h3 id="谦让语句型"><a href="#谦让语句型" class="headerlink" title="谦让语句型"></a>谦让语句型</h3><ul>
<li>お〜します／ご〜します</li>
<li>例子<ul>
<li>看见拿着东西的社长　お持ちします</li>
<li>说明的时候　ご説明します</li>
<li>我来帮你 お手伝いします</li>
</ul>
</li>
<li>一般使用谦让语的时候都会省略“我”的主语</li>
<li>对于上级的人不能用　てあげる　（要用さし上げる）</li>
</ul>
<h3 id="谦让语特别型"><a href="#谦让语特别型" class="headerlink" title="谦让语特别型"></a>谦让语特别型</h3><ul>
<li>更多见上面的表</li>
<li>例子<ul>
<li>メールを拝見しました</li>
<li>駅前で偶然先生にお目にかかりました</li>
</ul>
</li>
</ul>
<h3 id="例"><a href="#例" class="headerlink" title="例"></a>例</h3><p>来週の東京へのご出張のことですが、空港までお迎えに<strong>まいります／うかがいます</strong> ので、<strong>ご到着になる（到着される）</strong>時間を<strong>~存じさせてください~（お知らせください，这里的主语是对方不是自己）</strong>。<br>空港で資料を<strong>お渡しします</strong>ので、車の中で<strong>ご覧ください</strong>。<br>ご昼食の後、会議の場所まで<strong>お送りします</strong>。<br>どうぞよろしく<strong>お願いいたします</strong></p>
<h2 id="邀请"><a href="#邀请" class="headerlink" title="邀请"></a>邀请</h2><h3 id="打招呼-声を掛ける-gt-找人帮忙的时候的搭话"><a href="#打招呼-声を掛ける-gt-找人帮忙的时候的搭话" class="headerlink" title="打招呼 声を掛ける　-&gt; 找人帮忙的时候的搭话"></a>打招呼 声を掛ける　-&gt; 找人帮忙的时候的搭话</h3><ul>
<li>部長、すみません</li>
<li>いま、よろしいですか／ちょっとよろしでしょうか</li>
<li>いま、お時間いただけますか</li>
</ul>
<h3 id="打听别人的安排-予定を聞く"><a href="#打听别人的安排-予定を聞く" class="headerlink" title="打听别人的安排 予定を聞く"></a>打听别人的安排 予定を聞く</h3><ul>
<li>日曜日、何かご予定がありますか</li>
<li>来週の火曜日、小林さんのご都合はいかがでしょうか</li>
</ul>
<h3 id="邀请-1"><a href="#邀请-1" class="headerlink" title="邀请"></a>邀请</h3><ul>
<li>部長にもぜひ来て<strong>頂きたいですか</strong>　语气比较强的邀请</li>
<li>部長にもご出席いただけないかと思いまして 后面的思いまして带有表示原因的意思</li>
<li>よろしかったら、部長もいらしゃいませんか</li>
<li>よろしければ、部長もいかがでしょうか</li>
<li>もしご都合がよろしければ、部長<strong>もいかがかと思いまして</strong></li>
</ul>
<h3 id="お／ご〜なく（不是什么词都能用的，后面不要加te）"><a href="#お／ご〜なく（不是什么词都能用的，后面不要加te）" class="headerlink" title="お／ご〜なく（不是什么词都能用的，后面不要加te）"></a>お／ご〜なく（不是什么词都能用的，后面不要加te）</h3><ul>
<li>ご心配なく</li>
<li>ご遠慮なく</li>
<li>お気遣いなく</li>
<li>おかまいなく</li>
</ul>
<h3 id="〜ております"><a href="#〜ております" class="headerlink" title="〜ております"></a>〜ております</h3><ul>
<li>ています的谦让语</li>
<li>例子<ul>
<li>お返事をお持ちしております</li>
<li>当日お会いできるのを楽しみにしております</li>
</ul>
</li>
</ul>
<h3 id="例子：邀请老师"><a href="#例子：邀请老师" class="headerlink" title="例子：邀请老师"></a>例子：邀请老师</h3><ul>
<li>よろしければ、先生もいらしゃいませんか／先生も来てきただきたいと思っています</li>
<li>先生のご都合はいかがでしょうか</li>
<li>お返事をお持ちしております</li>
</ul>
<h2 id="请求"><a href="#请求" class="headerlink" title="请求"></a>请求</h2><h3 id="打招呼-呼びかける"><a href="#打招呼-呼びかける" class="headerlink" title="打招呼 呼びかける"></a>打招呼 呼びかける</h3><ul>
<li>あの、ちょっとよろしいでしょうか</li>
<li>今、お忙しいでしょうか</li>
<li>お時間いただきてもよろしいでしょうか</li>
</ul>
<h3 id="（実は）〜のですが"><a href="#（実は）〜のですが" class="headerlink" title="（実は）〜のですが"></a>（実は）〜のですが</h3><ul>
<li>持ち帰って我が社のものと検討したいのですが。。。</li>
<li>実は使い方がよくわからないのですが。。。</li>
</ul>
<h3 id="いただけませんか／ご（お）〜いただけませんか"><a href="#いただけませんか／ご（お）〜いただけませんか" class="headerlink" title="いただけませんか／ご（お）〜いただけませんか"></a>いただけませんか／ご（お）〜いただけませんか</h3><ul>
<li>后面那种说法更好一点，中间可以直接填动词的masu型</li>
<li>この予告編のDVDを一枚お送っていただけませんか　</li>
<li><strong>注意这里没有te！！！</strong></li>
</ul>
<h3 id="继续请求"><a href="#继续请求" class="headerlink" title="继续请求"></a>继续请求</h3><ul>
<li>日本語訳をつけていただけないかと思いまして</li>
<li>日本語訳をつけていただけるとありがたいんですが。<br>*　思いまして就表示了没说完，但是后面跟着：你能接收我的请求吗的意思</li>
</ul>
<h3 id="打招呼的方式"><a href="#打招呼的方式" class="headerlink" title="打招呼的方式"></a>打招呼的方式</h3><table>
<thead>
<tr>
<th></th>
<th>朋友</th>
<th>ですます</th>
<th>敬语</th>
</tr>
</thead>
<tbody>
<tr>
<td>ねえ、あのね</td>
<td>可</td>
<td>不可</td>
<td>不可</td>
</tr>
<tr>
<td>あの-</td>
<td>可</td>
<td>可</td>
<td>可</td>
</tr>
<tr>
<td>悪いんだけど／悪いけど</td>
<td>可</td>
<td>不可</td>
<td>不可</td>
</tr>
<tr>
<td>よかったら</td>
<td>可</td>
<td>可</td>
<td>可</td>
</tr>
<tr>
<td>すみませんが</td>
<td>不可</td>
<td>可</td>
<td>可</td>
</tr>
<tr>
<td>よろしかったら</td>
<td>不可</td>
<td>不可</td>
<td>可</td>
</tr>
<tr>
<td>申し訳ありませんが／恐れ入りますが／恐縮ですが</td>
<td>不可</td>
<td>不可</td>
<td>可</td>
</tr>
</tbody>
</table>
<h3 id="文末"><a href="#文末" class="headerlink" title="文末"></a>文末</h3><table>
<thead>
<tr>
<th></th>
<th>朋友</th>
<th>ですます</th>
<th>敬语</th>
</tr>
</thead>
<tbody>
<tr>
<td>~て（よ／ね）</td>
<td>可</td>
<td>不可</td>
<td>不可</td>
</tr>
<tr>
<td>~てくれない　</td>
<td>可</td>
<td>不可</td>
<td>不可</td>
</tr>
<tr>
<td>~てくれませんか　</td>
<td>不可</td>
<td>可</td>
<td>不可</td>
</tr>
<tr>
<td>~てもらえませんか　</td>
<td>不可</td>
<td>可</td>
<td>不可</td>
</tr>
<tr>
<td>~いただけませんか　</td>
<td>不可</td>
<td>可</td>
<td>可</td>
</tr>
<tr>
<td>~いただけませんでしょうか　</td>
<td>不可</td>
<td>可</td>
<td>可</td>
</tr>
<tr>
<td>~いただきたいんですが　</td>
<td>不可</td>
<td>可</td>
<td>可</td>
</tr>
<tr>
<td>~いただけないかと思いまして　</td>
<td>不可</td>
<td>不可</td>
<td>可</td>
</tr>
<tr>
<td>~いただけるとありがたいんですが　</td>
<td>不可</td>
<td>不可</td>
<td>可</td>
</tr>
</tbody>
</table>
<h3 id="练习句型"><a href="#练习句型" class="headerlink" title="练习句型"></a>练习句型</h3><ul>
<li>すみませんが、〜ていただけませんか</li>
<li>申し訳ないんですが、〜ていただけるとありがたいんですが<ul>
<li>用在非常难以开口请求的郑重恳请的情况下</li>
</ul>
</li>
<li>あのー、〜てもよろしでしょうか</li>
</ul>
<h3 id="写推荐信"><a href="#写推荐信" class="headerlink" title="写推荐信"></a>写推荐信</h3><ul>
<li>教師の推薦状が必要なのですが、お書きいただけないでしょうか。</li>
<li>先生の研究室にごあいさつに伺いたいと思いまして</li>
<li>先生のご都合がよろしい時間をお知らせいただけるとありがたく存じます</li>
<li>返事をお待ちしております</li>
</ul>
<h2 id="拒绝-断る"><a href="#拒绝-断る" class="headerlink" title="拒绝 断る"></a>拒绝 断る</h2><h3 id="〜はちょっと。。。"><a href="#〜はちょっと。。。" class="headerlink" title="〜はちょっと。。。"></a>〜はちょっと。。。</h3><ul>
<li>让对方看到自己为难的样子，知道自己有困难</li>
</ul>
<h3 id="断る"><a href="#断る" class="headerlink" title="断る"></a>断る</h3><ul>
<li>例1：拒绝的时候说到句尾可以不说清楚<ul>
<li>あ、コピー手伝ってくれないか</li>
<li>今、ロビーでお客様が待っていらっしゃるので。。。</li>
</ul>
</li>
<li>例2：句尾用まして（ます）、でして（です）来表示原因<ul>
<li>残念ながら今回は伺えないんです。今夜は友人と会う約束がありまして。。。</li>
<li>すみません。お酒はちょっと苦手でして。。。</li>
</ul>
</li>
<li>あります　-&gt; ございまして／だ　-&gt; でして</li>
</ul>
<h3 id="謝る-拒绝了以后的道歉"><a href="#謝る-拒绝了以后的道歉" class="headerlink" title="謝る 拒绝了以后的道歉"></a>謝る 拒绝了以后的道歉</h3><ul>
<li>被拜托了事情的时候 お役に立てなくて、申し訳ありません。</li>
<li>被邀请了的时候。<strong>请先说谢谢</strong> せっかくお誘いくださいましたのに、（すみません）</li>
</ul>
<h3 id="拒绝了但是还要保持良好的关系"><a href="#拒绝了但是还要保持良好的关系" class="headerlink" title="拒绝了但是还要保持良好的关系"></a>拒绝了但是还要保持良好的关系</h3><ul>
<li>今回は伺えないんですが、また　今度／次回／次の機会　に　お誘いください／ご一緒にさせてください</li>
</ul>
<h3 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h3><ul>
<li>〜はちょっと苦手でして</li>
<li>お誘いくださいましてありがどうございます</li>
<li>残念ながら、その日は山田さんと会議の予定でございます。</li>
<li>申し訳ありませんが、参加できません</li>
<li>せっかくのお誘いなのにすみません。</li>
<li>今回は伺えないですが、また今度にお誘いください</li>
</ul>
<h2 id="申し出る-自己主动提出申请"><a href="#申し出る-自己主动提出申请" class="headerlink" title="申し出る　自己主动提出申请"></a>申し出る　自己主动提出申请</h2><h3 id="お／ご-〜-（いた）しましょうか"><a href="#お／ご-〜-（いた）しましょうか" class="headerlink" title="お／ご　〜　（いた）しましょうか"></a>お／ご　〜　（いた）しましょうか</h3><ul>
<li>使用自谦语来表示郑重的<strong>主动提出</strong>，可以让我来干这件事的意思！！没有te</li>
<li>例子<ul>
<li>お荷物をお持ちしましょうか</li>
<li>資料をお送り致しましょうか</li>
<li>加藤さんには私からご連絡致しましょうか</li>
</ul>
</li>
</ul>
<h3 id="〜させていただきます"><a href="#〜させていただきます" class="headerlink" title="〜させていただきます"></a>〜させていただきます</h3><ul>
<li>原本是征求对方许可之后做某事，后来发展成敬语用法（させていただきいてもよろしいでしょうか）</li>
<li><strong>未经许可就用的话有强加的意思</strong></li>
<li>例子<ul>
<li>会議の日は昼食を用意させていただきます</li>
<li>今日の午後、会議室を使わせていただきたいんですが</li>
<li>今日は申し訳ないんですが、早めに帰らせていただけませんか</li>
<li>このパソコンを使わせていただいてもよろしいでしょうか</li>
</ul>
</li>
</ul>
<h3 id="〜させてください"><a href="#〜させてください" class="headerlink" title="〜させてください"></a>〜させてください</h3><ul>
<li>表达对方同意之后非常强烈的想做这件事</li>
<li>例子<ul>
<li>今    度の仕事は私に担当させてください</li>
<li>今夜は私にごちそうをさせてください</li>
</ul>
</li>
</ul>
<h2 id="お詫びする-道歉"><a href="#お詫びする-道歉" class="headerlink" title="お詫びする　道歉"></a>お詫びする　道歉</h2><h3 id="道歉常用句"><a href="#道歉常用句" class="headerlink" title="道歉常用句"></a>道歉常用句</h3><ul>
<li>申し訳ありません（でした）／　申し訳ございません（でした）</li>
<li>大変失礼いたしました　／　ご迷惑をおかけしました　／　どうかお許しください</li>
</ul>
<h3 id="报告自己的失误"><a href="#报告自己的失误" class="headerlink" title="报告自己的失误"></a>报告自己的失误</h3><ul>
<li>実は、お約束の時間に伺えなくなってしまったんです</li>
<li>11日を21日だと聞き間違えてしまいました</li>
</ul>
<h3 id="传达反省的心情"><a href="#传达反省的心情" class="headerlink" title="传达反省的心情"></a>传达反省的心情</h3><ul>
<li>以後／今後は気をつけます</li>
<li>二度とこのようなミスをしないように、注意／確認／徹底　いたします</li>
</ul>
<h3 id="别人对自己道歉的时候"><a href="#别人对自己道歉的时候" class="headerlink" title="别人对自己道歉的时候"></a>别人对自己道歉的时候</h3><ul>
<li>轻松<ul>
<li>あ、いえいえ、あまりお気になさらないでください</li>
</ul>
</li>
<li>严肃<ul>
<li>こういうのは困ります</li>
<li>こういうことをされると困るんですよ</li>
<li>これから気をつけてください</li>
</ul>
</li>
</ul>
<h3 id="句子"><a href="#句子" class="headerlink" title="句子"></a>句子</h3><ul>
<li>お／ご〜してしまいまして、申し訳ございませんでした</li>
<li>お／ご〜くださいましたのに、伺えませんで、失礼いたしました（表示的意思是你都邀请我做了，你都准备好了，之类的，但是我做不了）<ul>
<li>或者不加o，后面加te也可以</li>
</ul>
</li>
</ul>
<h3 id="卑微"><a href="#卑微" class="headerlink" title="卑微"></a>卑微</h3><ul>
<li>お忙しい中、お時間を作ってくださいましたのに、時間を間違えてしまいまして申し訳ございませんでした。今後は十分注意いたしますので、お許してください。</li>
</ul>
<h2 id="提意见"><a href="#提意见" class="headerlink" title="提意见"></a>提意见</h2><h3 id="问别人的意见"><a href="#问别人的意见" class="headerlink" title="问别人的意见"></a>问别人的意见</h3><ul>
<li>これについてはどう思われますか／この点についてはいかがですか</li>
<li>みなさんのご意見は／何かご意見はありますか</li>
</ul>
<h3 id="用一句话表示赞成和反对"><a href="#用一句话表示赞成和反对" class="headerlink" title="用一句话表示赞成和反对"></a>用一句话表示赞成和反对</h3><ul>
<li>赞成：いいと思います</li>
<li>反対：うーん／それはちょっと。。。／どうでしょうか。。。</li>
</ul>
<h3 id="开始陈述自己的意见"><a href="#开始陈述自己的意见" class="headerlink" title="开始陈述自己的意见"></a>开始陈述自己的意见</h3><ul>
<li>ちょっと、よろしいでしょうか</li>
</ul>
<h3 id="说自己的意见"><a href="#说自己的意见" class="headerlink" title="说自己的意见"></a>说自己的意见</h3><ul>
<li>和平的提案（一般用这种）<ul>
<li>V／Aい　のではないでしょうか</li>
<li>N／Aな　なのではないでしょうか</li>
<li>例<ul>
<li>予算がもっとかかってしまうのではないでしょうか</li>
<li>時間が足りなくて、無理なのではないでしょうか</li>
</ul>
</li>
</ul>
</li>
<li>提议 具体的方案<ul>
<li>V たらどうかと思います（が）</li>
<li>N がいいかと思います（が）</li>
<li>例<ul>
<li>時間がかかるので、1ヶ月前から準備したらどうかと思いますが</li>
<li>結婚のお祝いには、二人が長く使えるコーヒーカップなどがいいと思います</li>
</ul>
</li>
</ul>
</li>
<li>归纳意见<ul>
<li>それよりも　Vた　方がいいと思います</li>
<li>それよりももっと簡単に準備できる発表に変えた方がいいと思います</li>
</ul>
</li>
</ul>
<h3 id="接收意见"><a href="#接收意见" class="headerlink" title="接收意见"></a>接收意见</h3><ul>
<li>〜はいいことだと思いますが／それもそうですが</li>
</ul>
<h3 id="说明理由"><a href="#说明理由" class="headerlink" title="说明理由"></a>说明理由</h3><p>忘年会は中華料理がいいのではないでしょうか。<strong>というのは</strong>、人数が急に増えても大丈夫です<strong>し</strong>、若い人はたくさん食べたいという人も多いです<strong>し</strong>、料理の数も多くで、人気があります<strong>ので</strong>。。。こちらの方がいいと思います。</p>
<h3 id="整体句型"><a href="#整体句型" class="headerlink" title="整体句型"></a>整体句型</h3><ul>
<li>よろしいでしょうか。〜（な）のはいいことだと思いますが、〜（な）のではないでしょうか。それよりも、〜た方がいいと思いますが、いかがでしょうか。</li>
</ul>
<h3 id="写邮件"><a href="#写邮件" class="headerlink" title="写邮件"></a>写邮件</h3><ul>
<li>お疲れ様です。アレクスです。</li>
<li>メールを拝見しました。</li>
<li>まず席のことですが、フランス料理はいいと思いますが、一人一人の席が離れていてみんなで話すことできないのではないでしょうか。</li>
<li>人数がまだ決まっていないということですが、それなら人数が変わっても大丈夫な中華料理がいいっと思います。今度のお客様はアジアからのお客様が多いと伺っておりますので、アジア料理の方が慣れていていいのではないでしょうか。</li>
<li>~中華料理がいいのではないでしょうか。というのは、人数が急に増えても大丈夫し、お客様はアジア料理の方が慣れているかもしれません。~</li>
<li>それよりも、中華料理の方がいいと思いますが、いかがでしょうか。</li>
</ul>
<h2 id="接收预约"><a href="#接收预约" class="headerlink" title="接收预约"></a>接收预约</h2><h3 id="〜でございます-接电话"><a href="#〜でございます-接电话" class="headerlink" title="〜でございます　接电话"></a>〜でございます　接电话</h3><ul>
<li>用于说自己或者自己团体的事情</li>
<li>でございます和でいらしゃいます是一个意思，一个用在自己一个用在对方</li>
</ul>
<h3 id="承ります（うけたまわる）-接受预约"><a href="#承ります（うけたまわる）-接受预约" class="headerlink" title="承ります（うけたまわる）　接受预约"></a>承ります（うけたまわる）　接受预约</h3><ul>
<li>对目上的人接收预约时候的敬语</li>
<li>ご予約、承っております</li>
<li>ご予約は、私、鈴木が承りました</li>
</ul>
<h3 id="〜でいらしゃいます-确定预约的人数或者名字"><a href="#〜でいらしゃいます-确定预约的人数或者名字" class="headerlink" title="〜でいらしゃいます　确定预约的人数或者名字"></a>〜でいらしゃいます　确定预约的人数或者名字</h3><ul>
<li>失礼ですが、田中さんでいらしゃいますか</li>
<li>3名様でいらしゃいますか</li>
<li>お元気でいらしゃいますか</li>
<li>不能用在和对方无关的事情上</li>
</ul>
<h3 id="お／ご-〜-になれますか"><a href="#お／ご-〜-になれますか" class="headerlink" title="お／ご　〜　になれますか"></a>お／ご　〜　になれますか</h3><ul>
<li>在日语里直接问目上的人できます比较失礼，所以用这种方法的比较多。只有当有非常稀奇的技能的时候才会用できます</li>
<li>社長はスペイン語がお話になれますか</li>
</ul>
<h3 id="お／ご〜いただけます-＝-〜てもらえます（表示的是可以做的意思，没有授受的含义）"><a href="#お／ご〜いただけます-＝-〜てもらえます（表示的是可以做的意思，没有授受的含义）" class="headerlink" title="お／ご〜いただけます　＝　〜てもらえます（表示的是可以做的意思，没有授受的含义）"></a>お／ご〜いただけます　＝　〜てもらえます（表示的是可以做的意思，没有授受的含义）</h3><ul>
<li>この建物の中で、wifiがお使いいただけます</li>
<li>特急券をお求めになれば、特急にご乗車いただけます</li>
</ul>
<h3 id="〜はなさいますか-＝-〜にしますか-＝-に決めます"><a href="#〜はなさいますか-＝-〜にしますか-＝-に決めます" class="headerlink" title="〜はなさいますか　＝　〜にしますか　＝　に決めます"></a>〜はなさいますか　＝　〜にしますか　＝　に決めます</h3><ul>
<li>料理はどのコースになさいますか</li>
</ul>
<h3 id="させていただきます-再一次确认"><a href="#させていただきます-再一次确认" class="headerlink" title="させていただきます　再一次确认"></a>させていただきます　再一次确认</h3><ul>
<li><strong>用多了会有强迫的意思</strong></li>
<li>ご注文を　繰り返させて／確認させて／復唱させて　いただきます</li>
<li>誠に勝手ながら本日は午後七時で閉店させていただきます</li>
</ul>
<h2 id="サービス敬語"><a href="#サービス敬語" class="headerlink" title="サービス敬語"></a>サービス敬語</h2><h3 id="お／ご〜になりましたら-如果你决定好了的话"><a href="#お／ご〜になりましたら-如果你决定好了的话" class="headerlink" title="お／ご〜になりましたら 如果你决定好了的话"></a>お／ご〜になりましたら 如果你决定好了的话</h3><p>お決まりになりましたら、お呼びください</p>
<h3 id="お／ご〜くださいませ-丁宁的说请求的时候"><a href="#お／ご〜くださいませ-丁宁的说请求的时候" class="headerlink" title="お／ご〜くださいませ 丁宁的说请求的时候"></a>お／ご〜くださいませ 丁宁的说请求的时候</h3><ul>
<li>お一人一枚ずつお取りくださいませ</li>
<li>何かありましたら、ご相談くださいませ</li>
<li>ご質問がおありでしたら、お答えいたします</li>
<li>お困りでしたら、お手伝いいたします</li>
</ul>
<h3 id="短语"><a href="#短语" class="headerlink" title="短语"></a>短语</h3><ul>
<li>お決まりでしたら（お決まりになっていましたら）、伺います</li>
<li>ご予約をご希望なら（ご希望になるなら）、こちらで承ります</li>
<li>先にお並びの方（お並びになっている方）から順にお入りください</li>
<li>整理券をお持ちですか（お持ちになっていらっしゃいますか）</li>
</ul>
<h3 id="常用服务用语"><a href="#常用服务用语" class="headerlink" title="常用服务用语"></a>常用服务用语</h3><ul>
<li>お待たせしました</li>
<li>かしこまりました</li>
<li>お飲み物はいかがいたしましょうか</li>
</ul>
<h3 id="けっこうです"><a href="#けっこうです" class="headerlink" title="けっこうです"></a>けっこうです</h3><h2 id="接收商量"><a href="#接收商量" class="headerlink" title="接收商量"></a>接收商量</h2><h3 id="询问别人的想法的时候"><a href="#询问别人的想法的时候" class="headerlink" title="询问别人的想法的时候"></a>询问别人的想法的时候</h3><ul>
<li>对目上询问想干什么的时候，不能用〜したい来问</li>
<li>先生は何を食べたいですか（X)<ul>
<li>先生は何を召し上がりますか</li>
<li>先生はどのようなものがお好きですか</li>
</ul>
</li>
</ul>
<h3 id="提案する"><a href="#提案する" class="headerlink" title="提案する"></a>提案する</h3><ul>
<li>提建议的时候用とか不是很丁宁，変成　など</li>
<li>ビールを召し上がるなら、銀座ホールなどはいかがでしょうか</li>
<li>日本文化体験なら、鎌倉のお寺で座禅をなさったらいかがでしょうか</li>
</ul>
<h3 id="ご存知ですか-ー-存じております／存じ上げております"><a href="#ご存知ですか-ー-存じております／存じ上げております" class="headerlink" title="ご存知ですか　ー　存じております／存じ上げております"></a>ご存知ですか　ー　存じております／存じ上げております</h3><ul>
<li>对事物的话用前者，对人的话用后者</li>
<li>アスク商事の高橋部長をご存知ですか　ー　はい、存じ上げております（回答别人问话的时候）</li>
</ul>
<h3 id="ご〜（漢字）です-同样表达尊敬语的意思"><a href="#ご〜（漢字）です-同样表达尊敬语的意思" class="headerlink" title="ご〜（漢字）です　同样表达尊敬语的意思"></a>ご〜（漢字）です　同样表达尊敬语的意思</h3><ul>
<li>何かご心配ですか</li>
<li>明日の会議、ご出席ですか</li>
</ul>
<h2 id="演讲-发表"><a href="#演讲-发表" class="headerlink" title="演讲 发表"></a>演讲 发表</h2><h3 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h3><p>皆まさ、おはようございます。本日は、〜についてお話しします。</p>
<h3 id="对演讲时的观众说话应该用敬语"><a href="#对演讲时的观众说话应该用敬语" class="headerlink" title="对演讲时的观众说话应该用敬语"></a>对演讲时的观众说话应该用敬语</h3><h3 id="在进入话题之后，比起敬语更应该用desu-masu"><a href="#在进入话题之后，比起敬语更应该用desu-masu" class="headerlink" title="在进入话题之后，比起敬语更应该用desu masu"></a>在进入话题之后，比起敬语更应该用desu masu</h3><ul>
<li>ですから　＝　だから</li>
<li>ご存知のように／ご存知の通り</li>
<li>〜られております（考える／言う／評価する）</li>
</ul>
<h3 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h3><ul>
<li>以上、〜いついて紹介いたしました</li>
<li>ご静聴ありがどうございます</li>
</ul>
<h2 id="面试"><a href="#面试" class="headerlink" title="面试"></a>面试</h2><h3 id="てまいりました＝てくる"><a href="#てまいりました＝てくる" class="headerlink" title="てまいりました＝てくる"></a>てまいりました＝てくる</h3><ul>
<li>高校生の時日本語の勉強をしてまいりました</li>
<li>私はこれまで、通訳の仕事に田鶴わってまいりました</li>
</ul>
<h3 id="〜ておりますN"><a href="#〜ておりますN" class="headerlink" title="〜ておりますN"></a>〜ておりますN</h3><p>私が研究しておりますテーマは、日本語の敬語についてです</p>
<h3 id="〜次第です-＝-〜んです"><a href="#〜次第です-＝-〜んです" class="headerlink" title="〜次第です　＝　〜んです"></a>〜次第です　＝　〜んです</h3><ul>
<li>御社のビジネスは、私の研究テーマと重なっていると思い、大変興味深く感じた次第です</li>
</ul>
<h3 id="换种说法"><a href="#换种说法" class="headerlink" title="换种说法"></a>换种说法</h3><p>| 〜について面白いと思いました　| 〜について興味深く感じました |<br>| すごく／とても　| 大変／非常に |<br>| どんな　| どのような |<br>| 〜できたらいいなと考えています　| 〜できたらと考えております |<br>| 〜くれたらいいなと思います　| 〜くれたらと考えております |<br>| 〜したいです　| <strong>〜できたらと思います</strong> |</p>
<h3 id="自己紹介"><a href="#自己紹介" class="headerlink" title="自己紹介"></a>自己紹介</h3><p>本日は面接の機会をくださいましてありがとうございます。<br>早速ですが、自己紹介をさせていただきます。<br>私はXXと申します。<br>2018年来日いたしまして、現在、XXXを研究しております。<br>どうぞよろしくお願いいたします。</p>
<h3 id="被问到问题要先回答-はい，不要加那么多犹豫词"><a href="#被问到问题要先回答-はい，不要加那么多犹豫词" class="headerlink" title="被问到问题要先回答 はい，不要加那么多犹豫词"></a>被问到问题要先回答 はい，不要加那么多犹豫词</h3><h3 id="不要太多的用できます"><a href="#不要太多的用できます" class="headerlink" title="不要太多的用できます"></a>不要太多的用できます</h3><ul>
<li>少しでもお役に立てたらと思います</li>
</ul>
<h3 id="例-1"><a href="#例-1" class="headerlink" title="例"></a>例</h3><p>私はゲームのプログラムの開発を続けて<strong>まいりました</strong>。私が<strong>使っております</strong>ソフトの開発を多く<strong>手がけていらっしゃる</strong>御社の事業内容を<strong>伺って</strong>、<strong>非常に興味深く感じました</strong>。さらにより良いゲームソフトを<strong>開発できたらと考えております。</strong></p>
<h2 id="接电话"><a href="#接电话" class="headerlink" title="接电话"></a>接电话</h2><h3 id="はい、XXXでございます"><a href="#はい、XXXでございます" class="headerlink" title="はい、XXXでございます"></a>はい、XXXでございます</h3><h3 id="いつもお世話になっております"><a href="#いつもお世話になっております" class="headerlink" title="いつもお世話になっております"></a>いつもお世話になっております</h3><ul>
<li>こちらこそ、お世話になっております</li>
</ul>
<h3 id="（会社名）のXXと申しますが、XX様／役職、いらっしゃいますか"><a href="#（会社名）のXXと申しますが、XX様／役職、いらっしゃいますか" class="headerlink" title="（会社名）のXXと申しますが、XX様／役職、いらっしゃいますか"></a>（会社名）のXXと申しますが、XX様／役職、いらっしゃいますか</h3><h3 id="名前-はただいま、XX中でございます"><a href="#名前-はただいま、XX中でございます" class="headerlink" title="名前　はただいま、XX中でございます"></a>名前　はただいま、XX中でございます</h3><h3 id="常用语"><a href="#常用语" class="headerlink" title="常用语"></a>常用语</h3><ul>
<li>不在的时候<ul>
<li>XXはただいま席を外しておりまして。。。</li>
</ul>
</li>
<li>让他一会回电<ul>
<li>折り返しXXに電話させましょう</li>
</ul>
</li>
<li>接收留言<ul>
<li>よろしければ、私がご用件を承りますが。。。</li>
<li>承知いたしました。XXXに申し伝えます。私、XXが承りました</li>
</ul>
</li>
<li>稍后再拨<ul>
<li>恐れ入りますが、XX分過ぎにもう一度おかけいただけますでしょうか</li>
<li>それでは、XX分後にこちらからおかけします</li>
</ul>
</li>
<li>再一次请教姓名<ul>
<li>失礼ですが、もう一度お名前を伺ってもよろしいでしょうか</li>
</ul>
</li>
<li>挂电话<ul>
<li>では、失礼いたします</li>
</ul>
</li>
<li>换人接<ul>
<li>お電話かわりました。XXです</li>
</ul>
</li>
</ul>
<h2 id="采访"><a href="#采访" class="headerlink" title="采访"></a>采访</h2><h3 id="〜中／ところ、ありがとうございます"><a href="#〜中／ところ、ありがとうございます" class="headerlink" title="〜中／ところ、ありがとうございます"></a>〜中／ところ、ありがとうございます</h3><ul>
<li>お忙しい中／お寒い中／雨の中、わざわざありがとうございます</li>
<li>お急ぎのところ／お疲れのところ／お休みのところ、申し訳ありません</li>
</ul>
<h3 id="重复对方说的话"><a href="#重复对方说的话" class="headerlink" title="重复对方说的话"></a>重复对方说的话</h3><h3 id="扩展对方说的话"><a href="#扩展对方说的话" class="headerlink" title="扩展对方说的话"></a>扩展对方说的话</h3><h3 id="想确认时"><a href="#想确认时" class="headerlink" title="想确认时"></a>想确认时</h3><ul>
<li>今、何とおっしゃいましたでしょうか。／と、おっしゃいますと</li>
<li>その〜と言うのは、どのような意味ですか</li>
</ul>
<h2 id="报告"><a href="#报告" class="headerlink" title="报告"></a>报告</h2><h3 id="有顺序的报告"><a href="#有顺序的报告" class="headerlink" title="有顺序的报告"></a>有顺序的报告</h3><ul>
<li><strong>まず</strong>、XXXについて報告します</li>
<li><strong>以上</strong>、概要いついてご報告しました</li>
<li><strong>次に</strong>、</li>
<li><strong>その次に／それから</strong></li>
<li><strong>最後に</strong></li>
</ul>
<h3 id="とのことです-＝-そうです-转述听到别人的话"><a href="#とのことです-＝-そうです-转述听到别人的话" class="headerlink" title="とのことです　＝　そうです 转述听到别人的话"></a>とのことです　＝　そうです 转述听到别人的话</h3><h3 id="请看"><a href="#请看" class="headerlink" title="请看"></a>请看</h3><ul>
<li>ことらの写真をご覧ください</li>
<li>ご覧いただくとお分かりのように、。。。</li>
</ul>
<h3 id="发表感想"><a href="#发表感想" class="headerlink" title="发表感想"></a>发表感想</h3><ul>
<li>。。。と思います</li>
<li>。。。のではないでしょうか</li>
<li>た　方がいいと思います</li>
</ul>
<h3 id="结束报告"><a href="#结束报告" class="headerlink" title="结束报告"></a>结束报告</h3><ul>
<li>以上で報告を終わります</li>
<li>以上、XXXについてご報告しました</li>
<li>何か質問はありませんか／ご質問がおありでしたらどうぞ</li>
</ul>
<h2 id="司会的敬语"><a href="#司会的敬语" class="headerlink" title="司会的敬语"></a>司会的敬语</h2><h3 id="虽然是朋友，但是在很多人面前说的时候也要丁宁一点"><a href="#虽然是朋友，但是在很多人面前说的时候也要丁宁一点" class="headerlink" title="虽然是朋友，但是在很多人面前说的时候也要丁宁一点"></a>虽然是朋友，但是在很多人面前说的时候也要丁宁一点</h3><h3 id="おVです-＝-おVになっていらっしゃいます"><a href="#おVです-＝-おVになっていらっしゃいます" class="headerlink" title="おVです　＝　おVになっていらっしゃいます"></a>おVです　＝　おVになっていらっしゃいます</h3><ul>
<li>皆さんお揃いですので、</li>
<li>皆さんお見えですので、</li>
</ul>
<h3 id="そろそろ始めたいと思います"><a href="#そろそろ始めたいと思います" class="headerlink" title="そろそろ始めたいと思います"></a>そろそろ始めたいと思います</h3><h3 id="常用语-1"><a href="#常用语-1" class="headerlink" title="常用语"></a>常用语</h3><ul>
<li>大きな拍手でお迎えください</li>
<li>〜さんの前途を祝して／今後のご活躍とご健康を祈って、乾杯をしたいと思います</li>
<li>乾杯の音頭は〜先生にお願いしたいと思います</li>
<li>お手元のグラスをお持ちください</li>
<li>ごゆっくりお楽しみください</li>
<li>ここで一言ご挨拶申し上げます</li>
<li>では、〜さまにお祝いのことばをいただきたいと思います</li>
<li>そろそろお聞きにしたいと思います</li>
</ul>
<h2 id="邮件"><a href="#邮件" class="headerlink" title="邮件"></a>邮件</h2><p> | 挨拶 | いつもお世話になっております |<br> | お礼 | メール、ありがどうございます |<br> | 始める | では、XXXの件ですが |<br> | 知らせる | 次回は先生をお迎えして下記の通りお食事をすることにいたしました |<br> | お願い | ご検討いただきますようお願いいたします／お目通しくださいますようお願い申し上げます |<br> | 自分の希望 | お目にかかりたいと存じます／ゆっくりお話を伺いたいと存じます／一度おいでいただけたらと存じます |<br> | 終わり | お待ちしております／よろしくお願いいたします／取り急ぎお返事申し上げます |<br> | もとめる | 以上、ご案内／ご招待　申し上げます |<br> | 付け加える | なお、 |</p>
<h1 id="一些"><a href="#一些" class="headerlink" title="一些"></a>一些</h1><h1 id="一些特定说法"><a href="#一些特定说法" class="headerlink" title="一些特定说法"></a>一些特定说法</h1><h2 id="家人称呼"><a href="#家人称呼" class="headerlink" title="家人称呼"></a>家人称呼</h2><table>
<thead>
<tr>
<th style="text-align:center">我</th>
<th style="text-align:center">他 普通</th>
<th style="text-align:center">他 敬语</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">父　ちち</td>
<td style="text-align:center">お父さん</td>
<td style="text-align:center">お父様</td>
</tr>
<tr>
<td style="text-align:center">母　はは</td>
<td style="text-align:center">お母さん</td>
<td style="text-align:center">お母様</td>
</tr>
<tr>
<td style="text-align:center">兄　あに</td>
<td style="text-align:center">お兄さん</td>
<td style="text-align:center">お兄様</td>
</tr>
<tr>
<td style="text-align:center">姉　あね</td>
<td style="text-align:center">お姉さん</td>
<td style="text-align:center">お姉様</td>
</tr>
<tr>
<td style="text-align:center">弟　おとうと</td>
<td style="text-align:center">弟さん</td>
<td style="text-align:center">弟様</td>
</tr>
<tr>
<td style="text-align:center">妹　いもうと</td>
<td style="text-align:center">妹さん</td>
<td style="text-align:center">妹様</td>
</tr>
<tr>
<td style="text-align:center">夫（おっと）／旦那／主人</td>
<td style="text-align:center">ご主人</td>
<td style="text-align:center">ご主人様</td>
</tr>
<tr>
<td style="text-align:center">妻（つま）／家内（かない）</td>
<td style="text-align:center">奥さん</td>
<td style="text-align:center">奥様</td>
</tr>
<tr>
<td style="text-align:center">子ども</td>
<td style="text-align:center">お子さん</td>
<td style="text-align:center">お子様</td>
</tr>
<tr>
<td style="text-align:center">息子</td>
<td style="text-align:center">息子さん</td>
<td style="text-align:center">ご子息（しそく）</td>
</tr>
<tr>
<td style="text-align:center">娘</td>
<td style="text-align:center">娘さん</td>
<td style="text-align:center">お嬢様</td>
</tr>
</tbody>
</table>
<h2 id="人称"><a href="#人称" class="headerlink" title="人称"></a>人称</h2><table>
<thead>
<tr>
<th style="text-align:center">ですます</th>
<th style="text-align:center">敬語</th>
<th style="text-align:center">友達</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">わたし</td>
<td style="text-align:center">わたくし</td>
<td style="text-align:center">わたし／僕／俺</td>
</tr>
<tr>
<td style="text-align:center">わたしたち</td>
<td style="text-align:center">わたくしたち</td>
<td style="text-align:center">わたしたち／僕たち／俺たち</td>
</tr>
<tr>
<td style="text-align:center">皆さん</td>
<td style="text-align:center">皆様</td>
<td style="text-align:center">みんな</td>
</tr>
<tr>
<td style="text-align:center">お客さん</td>
<td style="text-align:center">お客様</td>
<td style="text-align:center">客</td>
</tr>
<tr>
<td style="text-align:center">友人</td>
<td style="text-align:center">ご友人</td>
<td style="text-align:center">友達</td>
</tr>
<tr>
<td style="text-align:center">あの人</td>
<td style="text-align:center">あの方</td>
<td style="text-align:center">あいつ／彼／彼女</td>
</tr>
<tr>
<td style="text-align:center">お店の人</td>
<td style="text-align:center">お店の方</td>
<td style="text-align:center">店員</td>
</tr>
<tr>
<td style="text-align:center">係の人</td>
<td style="text-align:center">係の方</td>
<td style="text-align:center">係</td>
</tr>
<tr>
<td style="text-align:center">駅員さん</td>
<td style="text-align:center">駅員さん</td>
<td style="text-align:center">駅員</td>
</tr>
<tr>
<td style="text-align:center">アメリカの人</td>
<td style="text-align:center">アメリカの方</td>
<td style="text-align:center">アメリカ人</td>
</tr>
</tbody>
</table>
<h2 id="公司，人员，学校等"><a href="#公司，人员，学校等" class="headerlink" title="公司，人员，学校等"></a>公司，人员，学校等</h2><table>
<thead>
<tr>
<th style="text-align:center">自己的</th>
<th style="text-align:center">他人的</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">弊社（へいしゃ）のXXX／うちのXXX</td>
<td style="text-align:center">XXX＋职位</td>
</tr>
<tr>
<td style="text-align:center">弊社／我が社／当社</td>
<td style="text-align:center">御社（おんしゃ）／貴社（きしゃ）</td>
</tr>
<tr>
<td style="text-align:center">本校／当校</td>
<td style="text-align:center">御校／貴校</td>
</tr>
<tr>
<td style="text-align:center">本学（特指大学）</td>
<td style="text-align:center">御学／貴学</td>
</tr>
</tbody>
</table>
<h2 id="常用-お／ご-词"><a href="#常用-お／ご-词" class="headerlink" title="常用 お／ご　词"></a>常用 お／ご　词</h2><ul>
<li>动词<ul>
<li>お<ul>
<li>お電話します</li>
<li>お約束します</li>
<li>お持ちします</li>
</ul>
</li>
<li>ご<ul>
<li>報告</li>
<li>紹介</li>
<li>遠慮</li>
</ul>
</li>
</ul>
</li>
<li>形容词<ul>
<li>お<ul>
<li>お好き／お嫌い</li>
<li>お元気／お疲れ／お急ぎ</li>
</ul>
</li>
<li>ご<ul>
<li>ご健康／ご無理</li>
<li>ご満足／ご不快</li>
</ul>
</li>
</ul>
</li>
<li>名词<ul>
<li>お<ul>
<li>お電話／お写真</li>
<li>お返事／お食事</li>
<li>お手紙／お荷物／お持ち物</li>
<li>お名前／お気持ち</li>
<li>お金／お礼／お土産</li>
<li>お弁当／お風呂</li>
<li>お飲み物／お品物</li>
<li>お手洗い</li>
<li>お見舞い／お祈り／お祝い</li>
</ul>
</li>
<li>ご　<ul>
<li>ご家族／ご夫婦／ご長男</li>
<li>ご住所／ご印鑑／ご予算／ご意志／ご本</li>
<li>ご署名／ご注文／ご計画</li>
<li>ご予約／ご招待</li>
<li>ご出席／ご参加／ご登録／ご入金</li>
<li>ご入学／ご出発</li>
<li>ご結婚／ご関係</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="日子的说法"><a href="#日子的说法" class="headerlink" title="日子的说法"></a>日子的说法</h2><table>
<thead>
<tr>
<th style="text-align:center">普通</th>
<th style="text-align:center">敬语</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">今日</td>
<td style="text-align:center">本日</td>
</tr>
<tr>
<td style="text-align:center">昨日</td>
<td style="text-align:center">昨日　さくじつ</td>
</tr>
<tr>
<td style="text-align:center">あした</td>
<td style="text-align:center">あす／みょうにち</td>
</tr>
<tr>
<td style="text-align:center">おととい</td>
<td style="text-align:center">いっさくじつ</td>
</tr>
<tr>
<td style="text-align:center">あさって</td>
<td style="text-align:center">みょうごにち</td>
</tr>
<tr>
<td style="text-align:center">今年</td>
<td style="text-align:center">本年</td>
</tr>
<tr>
<td style="text-align:center">去年</td>
<td style="text-align:center">昨年（さくねん）</td>
</tr>
<tr>
<td style="text-align:center">おととし　一昨年</td>
<td style="text-align:center">いっさくねん</td>
</tr>
<tr>
<td style="text-align:center">1ヶ月</td>
<td style="text-align:center">ひと月</td>
</tr>
</tbody>
</table>
<h2 id="副词的转换"><a href="#副词的转换" class="headerlink" title="副词的转换"></a>副词的转换</h2><table>
<thead>
<tr>
<th style="text-align:center">普通</th>
<th style="text-align:center">敬语</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">いま</td>
<td style="text-align:center">ただいま</td>
</tr>
<tr>
<td style="text-align:center">さっき</td>
<td style="text-align:center">先ほど</td>
</tr>
<tr>
<td style="text-align:center">後で</td>
<td style="text-align:center">後ほど（のちほど）</td>
</tr>
<tr>
<td style="text-align:center">この間</td>
<td style="text-align:center">先日</td>
</tr>
<tr>
<td style="text-align:center">その日</td>
<td style="text-align:center">当日</td>
</tr>
<tr>
<td style="text-align:center">もうすぐ</td>
<td style="text-align:center">間もなく</td>
</tr>
<tr>
<td style="text-align:center">赶紧开始</td>
<td style="text-align:center">さっそく</td>
</tr>
<tr>
<td style="text-align:center">急いて／すぐに</td>
<td style="text-align:center">早急に（さっきゅう）／至急（しきゅう）</td>
</tr>
<tr>
<td style="text-align:center">すぐに</td>
<td style="text-align:center">ただちに</td>
</tr>
<tr>
<td style="text-align:center">前に</td>
<td style="text-align:center">あらかじめ</td>
</tr>
<tr>
<td style="text-align:center">〜たらすぐに</td>
<td style="text-align:center">〜次第、</td>
</tr>
<tr>
<td style="text-align:center">残念</td>
<td style="text-align:center">あいにく</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">ぜひ</td>
</tr>
<tr>
<td style="text-align:center">丁寧に</td>
<td style="text-align:center">丁重に</td>
</tr>
<tr>
<td style="text-align:center">だいたい</td>
<td style="text-align:center">概ね（おおむね）</td>
</tr>
<tr>
<td style="text-align:center">少し</td>
<td style="text-align:center">少々（しょうしょう）</td>
</tr>
</tbody>
</table>
<h2 id="动词的转换"><a href="#动词的转换" class="headerlink" title="动词的转换"></a>动词的转换</h2><table>
<thead>
<tr>
<th style="text-align:center">普通</th>
<th style="text-align:center">敬语</th>
<th style="text-align:center">用法</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">受け取る／もらう</td>
<td style="text-align:center">受領する</td>
<td style="text-align:center">配送物</td>
</tr>
<tr>
<td style="text-align:center">受け取る／もらう</td>
<td style="text-align:center">拝受する</td>
<td style="text-align:center">配送 邮件 信</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">査収する</td>
<td style="text-align:center">确认内容之后查收，自己不用</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">納める</td>
<td style="text-align:center">赠品，贵重物品等</td>
</tr>
<tr>
<td style="text-align:center">金を払う</td>
<td style="text-align:center">納める</td>
<td style="text-align:center">税金</td>
</tr>
<tr>
<td style="text-align:center">送る</td>
<td style="text-align:center">送付する</td>
<td style="text-align:center">邮寄品，邮件</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">発送する</td>
<td style="text-align:center">配达物</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">入金する</td>
<td style="text-align:center">银行汇款</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">捺印する</td>
<td style="text-align:center">盖章</td>
</tr>
<tr>
<td style="text-align:center">使う</td>
<td style="text-align:center">使用する</td>
<td style="text-align:center">物品</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">利用する</td>
<td style="text-align:center">物品，服务</td>
</tr>
<tr>
<td style="text-align:center">ほしい／したい</td>
<td style="text-align:center">希望する</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">売る</td>
<td style="text-align:center">販売する</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">売り出す</td>
<td style="text-align:center">発売する</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">買う</td>
<td style="text-align:center">購入する</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">求める（もとめる）</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">読む</td>
<td style="text-align:center">拝読する</td>
<td style="text-align:center">邮件，信</td>
</tr>
<tr>
<td style="text-align:center">聞く</td>
<td style="text-align:center">拝聴する</td>
<td style="text-align:center">意见，演讲</td>
</tr>
<tr>
<td style="text-align:center">書く</td>
<td style="text-align:center">記入する</td>
<td style="text-align:center">申请用纸</td>
</tr>
<tr>
<td style="text-align:center">書く</td>
<td style="text-align:center">記す（しるす）</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">知らせる</td>
<td style="text-align:center">通知する</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">頼む</td>
<td style="text-align:center">依頼する</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">受ける</td>
<td style="text-align:center">承る</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">考える</td>
<td style="text-align:center">検討する</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">わかる</td>
<td style="text-align:center">承知する／理解する／了承する</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">あきらめる</td>
<td style="text-align:center">断念する</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">忘れる</td>
<td style="text-align:center">失念する</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">帰国する</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">出社する／出勤する</td>
<td style="text-align:center">来自己的公司</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">退社する／退勤する</td>
<td style="text-align:center">下班回家</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">失礼する</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">帰宅する</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">退社／退職する</td>
<td style="text-align:center">辞职</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">開店する</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">閉店する</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">来店する</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">来場する</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">座る</td>
<td style="text-align:center">かける</td>
</tr>
</tbody>
</table>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://bigphess.github.io/2019/09/14/数据结构Tree/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RUOPENG XU">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天开始努力学习">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/09/14/数据结构Tree/" class="post-title-link" itemprop="url">数据结构之Tree</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-09-14 15:54:11 / Modified: 16:44:52" itemprop="dateCreated datePublished" datetime="2019-09-14T15:54:11+09:00">2019-09-14</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/数据结构/" itemprop="url" rel="index"><span itemprop="name">数据结构</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/数据结构/树/" itemprop="url" rel="index"><span itemprop="name">树</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="基本作用"><a href="#基本作用" class="headerlink" title="基本作用"></a><a href="https://www.zhihu.com/question/20176446" target="_blank" rel="noopener">基本作用</a></h1><ul>
<li>树是图的一种，但是不是首尾连在一起的</li>
<li>树的其中一类是从 self-balanced tree BST演变出来的，包括红黑树，AVL，Splay，Treap等等（经常在面试出现但是实际不常用）</li>
<li>另一种大类是 Trie（字典树），能保证字典排序。前缀搜索，正则匹配，数据压缩，构建索引等等用处</li>
</ul>
<h1 id="二叉树，最基础的结构"><a href="#二叉树，最基础的结构" class="headerlink" title="二叉树，最基础的结构"></a>二叉树，最基础的结构</h1><h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><ul>
<li>每个数的节点<strong>最多</strong>只有两个子节点</li>
<li>子节点分左右，必须不能颠倒</li>
</ul>
<h2 id="应用环境"><a href="#应用环境" class="headerlink" title="应用环境"></a>应用环境</h2><ul>
<li>hash表，sets</li>
<li>数据库，优先队列</li>
<li>LDAP查找信息，在XML/HTML中进行搜索</li>
</ul>
<h2 id="不同分支："><a href="#不同分支：" class="headerlink" title="不同分支："></a>不同分支：</h2><ul>
<li>full binary tree：除了叶节点（也就是一个子节点都没有的点），其他的都有两个子节点</li>
<li>complete binary tree：除了最后一层外，其他层的节点都有两个子节点，最后一层的子节点必须是左对齐</li>
<li>perfect binary tree：形成完美的三角形</li>
</ul>
<h1 id="BST-二叉搜索树"><a href="#BST-二叉搜索树" class="headerlink" title="BST 二叉搜索树"></a>BST 二叉搜索树</h1><h2 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h2><ul>
<li>两个子节点里面，左边的必须小于父节点，右边的必须大于父节点</li>
</ul>
<h2 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h2><ul>
<li>插入：<ul>
<li>如果没有任何点，作为root</li>
<li>如果大放到右边的子树，小放到左边的子树</li>
<li>重复2直到找到空位</li>
</ul>
</li>
<li>删除：<ul>
<li>删除叶节点：断掉这个点和父节点的联系</li>
<li>删除只有一个子节点的点：把父节点对待删除点的reference改为父节点对待删除点子节点的reference</li>
<li>两个子节点的点：左节点不动，右边的换到父节点的位置上/右节点不同，左节点换到父节点</li>
<li>删除root：需要更改对root的reference</li>
</ul>
</li>
<li>遍历<ul>
<li>顺序：左-&gt; 中 -&gt; 右</li>
<li>反序：左 -&gt; 右 -&gt; 中</li>
<li>DFS：中 -&gt; 左 -&gt; 右</li>
</ul>
</li>
</ul>
<h1 id="平衡二叉树-AVL树"><a href="#平衡二叉树-AVL树" class="headerlink" title="平衡二叉树 AVL树"></a>平衡二叉树 AVL树</h1><ul>
<li>左右两个子树的高度差不超过1</li>
<li>且子树本身也是平衡树</li>
<li>在构建平衡树的时候确保他们平衡，从而导致最差的时间复杂度也是 logN</li>
<li>虽然在插入或者删除的时候，可能会在旋转上花费时间，但是整体性能更加稳定</li>
</ul>
<h2 id="旋转"><a href="#旋转" class="headerlink" title="旋转"></a>旋转</h2><ul>
<li>对于需要旋转的情况来说，一共有四种基本状况</li>
<li>对于左左或者右右：但旋转</li>
<li>对于左右或者右左：双旋转</li>
</ul>
<h2 id="红黑树"><a href="#红黑树" class="headerlink" title="红黑树"></a>红黑树</h2><ul>
<li>节点是红色或黑色</li>
<li>叶节点都是黑色的</li>
<li>root是黑色的</li>
<li>每个红节点必须有两个黑子节点，也就是说不能路径上有两个连续的红色</li>
<li>从任一节点到其每个叶子的所有简单路径都包含相同数目的黑色节点</li>
</ul>
<h1 id="B树"><a href="#B树" class="headerlink" title="B树"></a>B树</h1><h2 id="定义-2"><a href="#定义-2" class="headerlink" title="定义"></a>定义</h2><ul>
<li>用来处理排序后的数据，查找，插入，删除，循序存取都在对数时间完成</li>
<li>对于普通的二叉树，可以有多于两个的节点</li>
<li>优化大块数据的读写操作，加快存取速度</li>
</ul>
<h2 id="在构建的时候，每一个点的存储数量是有限的，超过上限的时候，本节点分别成三部分，一个往上移动，另外两个分开"><a href="#在构建的时候，每一个点的存储数量是有限的，超过上限的时候，本节点分别成三部分，一个往上移动，另外两个分开" class="headerlink" title="在构建的时候，每一个点的存储数量是有限的，超过上限的时候，本节点分别成三部分，一个往上移动，另外两个分开"></a>在构建的时候，每一个点的存储数量是有限的，超过上限的时候，本节点分别成三部分，一个往上移动，另外两个分开</h2><h2 id="B-树"><a href="#B-树" class="headerlink" title="B+树"></a>B+树</h2><ul>
<li>只有达到叶节点才算命中，B树可以在非叶命中</li>
<li>更适合文件索引系统</li>
</ul>
<h2 id="B-树-1"><a href="#B-树-1" class="headerlink" title="B * 树"></a>B * 树</h2><ul>
<li>节点利用率从 1/2变成了 2/3</li>
</ul>
<h1 id="Trie树-字典树"><a href="#Trie树-字典树" class="headerlink" title="Trie树 字典树"></a>Trie树 字典树</h1><ul>
<li>hash树的变种，保存大量字符串</li>
<li>利用公共前缀减少查找时间</li>
</ul>
<h2 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h2><ul>
<li>根节点不包括字符，除了根节点都只包含一个字符</li>
<li>从根节点到某一节点，一路连过去就是相关的字符串</li>
<li>每个节点的子节点的字符都不相同</li>
</ul>
<h1 id="参考来源"><a href="#参考来源" class="headerlink" title="参考来源"></a>参考来源</h1><ul>
<li><a href="https://www.cnblogs.com/maybe2030/p/4732377.html" target="_blank" rel="noopener">[Data Structure] 数据结构中各种树</a></li>
<li><a href="https://juejin.im/post/5b66d987e51d4519475f764c" target="_blank" rel="noopener">初学者应该了解的数据结构： Tree</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://bigphess.github.io/2019/09/14/Unity的shader/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RUOPENG XU">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天开始努力学习">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/09/14/Unity的shader/" class="post-title-link" itemprop="url">Unity的shader</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-09-14 13:55:12 / Modified: 15:53:54" itemprop="dateCreated datePublished" datetime="2019-09-14T13:55:12+09:00">2019-09-14</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Unity/" itemprop="url" rel="index"><span itemprop="name">Unity</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Unity/入门/" itemprop="url" rel="index"><span itemprop="name">入门</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>参考来源<br><a href="https://onevcat.com/2013/07/shader-tutorial-1/" target="_blank" rel="noopener">这里</a></p>
<h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><ul>
<li>shader，着色器，是一段负责将输入的mesh用指定的方式和输入的贴图，颜色等作用，然后输出</li>
<li>输入贴图或者颜色，以及对应的shader，就可以得到一个material，然后将可以把材料给到renderer来进行输出</li>
<li>shader如果是自己来写的话，需要新创建一个shader文件<ul>
<li>比如在这里老师写的omniProcam的投影的shader，里面的参数就包括了fisheye相机的参数等等。这部分的参数也就是shader的输入，定义了这个shader需要的属性</li>
<li>需要在里面设定不同的subshader，这部分是代码的主题，在每一个里面包含不同的pass。然后运行的时候会从最优先的着色器开始找。在shader的最后需要一个fallback，也就是说所有的subshader都不能运行的时候，需要一个返回情况</li>
</ul>
</li>
</ul>
<h2 id="代码讲解"><a href="#代码讲解" class="headerlink" title="代码讲解"></a>代码讲解</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">Shader &quot;Custom/Diffuse Texture&quot; &#123;</span><br><span class="line">	Properties &#123;</span><br><span class="line">		_MainTex (&quot;Base (RGB)&quot;, 2D) = &quot;white&quot; &#123;&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	SubShader &#123;</span><br><span class="line">		Tags &#123; &quot;RenderType&quot;=&quot;Opaque&quot; &#125;</span><br><span class="line">		LOD 200</span><br><span class="line">		</span><br><span class="line">		CGPROGRAM</span><br><span class="line">		#pragma surface surf Lambert</span><br><span class="line"></span><br><span class="line">		sampler2D _MainTex;</span><br><span class="line"></span><br><span class="line">		struct Input &#123;</span><br><span class="line">			float2 uv_MainTex;</span><br><span class="line">		&#125;;</span><br><span class="line"></span><br><span class="line">		void surf (Input IN, inout SurfaceOutput o) &#123;</span><br><span class="line">			half4 c = tex2D (_MainTex, IN.uv_MainTex);</span><br><span class="line">			o.Albedo = c.rgb;</span><br><span class="line">			o.Alpha = c.a;</span><br><span class="line">		&#125;</span><br><span class="line">		ENDCG</span><br><span class="line">	&#125; </span><br><span class="line">	FallBack &quot;Diffuse&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><ul>
<li><code>Properties</code>里面定义了这个shader的属性，这里面的所有属性将作为input提供给子着色器</li>
<li><code>_Name(&quot;Display Name&quot;, type) = defaultValue[{options}]</code></li>
<li>格式<ul>
<li><em>_</em>属性名</li>
<li>“display name” 显示给用户的可读的名字</li>
<li>type属性的类型<ul>
<li>颜色，RGBA</li>
<li>2D，2的指数大小的贴图</li>
<li>rect，非2的指数大小的贴图</li>
<li>cube，立方体纹理</li>
<li>range，一个范围里面的数</li>
<li>float，任意一个浮点数</li>
</ul>
</li>
<li>属性的默认值，比如颜色可以设定成“white”</li>
<li>opinion项，至少需要在贴图后面加上空白的花括号，只和2d rect或者cube有关系</li>
</ul>
</li>
</ul>
<h3 id="subshader"><a href="#subshader" class="headerlink" title="subshader"></a>subshader</h3><ul>
<li>tag：比如渲染类型，如果是非透明的物体要写在opaque里面，透明的写在transparent里面</li>
<li>LOD：level of detail</li>
<li><code>CGPROGRAM</code>，开始的标记，从这里开始是一段CG程序。和最后的<code>ENDCG</code>是对应的</li>
<li><code>#pragma surface surf Lambert</code>一个编译指令，声明了要写一个表面的shader，指定了光照模型</li>
<li><code>sampler2D</code>对贴图进行操作，2d的贴图模型。虽然在之前的属性里面声明过一次，但是因为这里面是cg代码，还是需要重新声明一次</li>
<li>需要在struct里面定义出来需要输入和输出的数据类型</li>
<li>uv：uv mapping指的就是把一个2d贴图上面的点按照一定规则映射到3d模型上。如果在贴图变量前边加上uv.<code>uv_MainTex</code>指的就是提取这个变量的uv值，也就是说二维坐标</li>
<li>surf函数，surf是之前定义的光照模型，有两个参数<ul>
<li>In里面的内容是uv值，也就是说每次都会调用贴图上面的坐标点才计算输出</li>
<li>inout是输出值</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://bigphess.github.io/2019/09/03/十大经典排序/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RUOPENG XU">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天开始努力学习">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/09/03/十大经典排序/" class="post-title-link" itemprop="url">十大经典排序</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-09-03 15:36:21" itemprop="dateCreated datePublished" datetime="2019-09-03T15:36:21+09:00">2019-09-03</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-09-04 17:14:08" itemprop="dateModified" datetime="2019-09-04T17:14:08+09:00">2019-09-04</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/算法/" itemprop="url" rel="index"><span itemprop="name">算法</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/算法/排序/" itemprop="url" rel="index"><span itemprop="name">排序</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>参考出自：<a href="https://mp.weixin.qq.com/s/vn3KiV-ez79FmbZ36SX9lg" target="_blank" rel="noopener">五分钟学算法</a></p>
<ul>
<li>时间复杂度<ul>
<li>最好情况</li>
<li>最坏情况</li>
</ul>
</li>
<li>空间复杂度: 需不需要开辟新的空间</li>
<li>排序方式：in-place还是不是in - place</li>
<li>排序稳定性: 也就是之前顺序的东西在排序之后是否还顺序</li>
</ul>
<h1 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h1><ul>
<li>前面一个数和后面一个比，如果前面的数比后面的大(或者小)，就交换他们两个<ul>
<li>这样交换一次之后的最后一个数就是所有数字里面的最大数</li>
<li>也就相当于最大的数像冒泡一样冒出来了，第一轮过后，第二轮可以直接冒倒数第二个数，也就是说每一轮的内循环次数可以逐渐减少</li>
</ul>
</li>
<li>需要重复n次（但是每次对越来越少的数字进行上述操作），以确保所有的交换都已经完毕了。</li>
<li><p>增加了一个flag的判断，如果在一轮里面没有任何交换产生，那就说明所有的元素都已经排序完毕了（因为如果还有数字往上冒必然会在前面有交换</p>
<ul>
<li>这样如果是正序排列的话，可以直接跳出循环，不用进行比较，时间复杂度是n<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bubbleSort</span><span class="params">(num)</span>:</span></span><br><span class="line">    n = len(num)</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, n):</span><br><span class="line">        flag = <span class="literal">True</span>  <span class="comment"># 如果在这轮没有任何交换，就可以说明排序已经完成了</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n - j):</span><br><span class="line">            <span class="keyword">if</span> num[i] &gt; num[i + <span class="number">1</span>]:</span><br><span class="line">                temp = num[i]</span><br><span class="line">                num[i] = num[i + <span class="number">1</span>]</span><br><span class="line">                num[i + <span class="number">1</span>] = temp</span><br><span class="line">                flag = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">if</span> flag <span class="keyword">is</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">return</span> num</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>时间复杂度：</p>
<ul>
<li>当正序排列的时候，因为可以直接跳出循环，所以只需要遍历一次所有的数保证他们排列正常，所以时间复杂度是n</li>
<li>当倒序排列的时候，需要把所有都移动一遍，所以时间复杂度是 n ^ 2</li>
<li>平均的复杂度是n方</li>
</ul>
</li>
<li>空间复杂度：<ul>
<li>因为交换只需要一个额外的temp来储存临时变量，空间复杂度是1</li>
</ul>
</li>
<li>in-place：是的</li>
<li>稳定性：稳定，因为一次换过来的东西就不动了，在判断大小的时候也是判断的大于而不是大于等于，也就是说前面换到后面的大数永远会在后面的数的前面<ul>
<li>比如[0, 8, 1, 8, 2]。首先会把第一个8换到第二个8的前面，因为判断条件没有等于，所以越不过去。</li>
</ul>
</li>
</ul>
<h1 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h1><ul>
<li>从所有元素中找到最小（或者最大）元素，然后放到数组的第一个（也就是和数组的第一个交换位置），然后这个就算是固定住了</li>
<li>然后从第二个到最后一个中选择现在最小的，和数组的第二个交换位置，前两个就固定住了</li>
<li><p>以此类推</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">SelectSort</span><span class="params">(nums)</span>:</span></span><br><span class="line">    n = len(nums)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">        Min = float(<span class="string">"inf"</span>)</span><br><span class="line">        index = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(i, n):</span><br><span class="line">            <span class="keyword">if</span> nums[j] &lt; Min:</span><br><span class="line">                Min = nums[j]</span><br><span class="line">                index = j</span><br><span class="line">        <span class="keyword">if</span> index != i:  <span class="comment"># 这样可以减少一些根本不用交换的情况，下一个位置上本来就是最小的</span></span><br><span class="line">            temp = nums[i]</span><br><span class="line">            nums[i] = nums[index]</span><br><span class="line">            nums[index] = temp</span><br><span class="line">    <span class="keyword">return</span> nums</span><br></pre></td></tr></table></figure>
</li>
<li><p>时间复杂度：</p>
<ul>
<li>最好情况和最坏情况都不能避免走两个循环，都是n ^ 2</li>
</ul>
</li>
<li>空间复杂度: 1, 来储存temp的值和暂时的最大值的变量</li>
<li>in-place：是的，换位置就可以，不需要单拿出来</li>
<li>稳定：<ul>
<li>不稳定，因为在交换位置的时候，并不知道现在的东西被交换到哪里去了</li>
<li>比如：[3, 3, 0, 9]，当0和3交换位置的时候，把第一个3交换到第二个3后面去了</li>
</ul>
</li>
</ul>
<h1 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h1><ul>
<li>在第1轮，认为第1个已经排好序了，然后从第二个开始拿出来，把它放在排好序的里面的合适的位置上</li>
<li>从第二轮开始依次类推，所以还是两个循环</li>
<li>在第i轮里面，前i个元素已经是排好序的了</li>
<li>在插入的过程当中，需要考虑如果把所有的需要移动的数字的坐标都移动一位。这时候比较有效的考虑方法是从最右边开始往左边移动，只要右边的数比现在的temp要大，这一位（实际上这一位指的是j - 1，因为j是移动之后的坐标）就需要移动。移动之后再减1</li>
<li>在所有的都移动结束之后，如果j这个位置和i的位置不一样，就说明发生了插入，那么就是nums[j] = 被插入的数字temp</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">InsertSort</span><span class="params">(nums)</span>:</span></span><br><span class="line">    n = len(nums)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n):</span><br><span class="line">        temp = nums[i]</span><br><span class="line">        j = i</span><br><span class="line">        <span class="keyword">while</span> j &gt; <span class="number">0</span> <span class="keyword">and</span> temp &lt; nums[j - <span class="number">1</span>]:</span><br><span class="line">            nums[j] = nums[j - <span class="number">1</span>]</span><br><span class="line">            j -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> j != i:</span><br><span class="line">            nums[j] = temp</span><br><span class="line">    <span class="keyword">return</span> nums</span><br></pre></td></tr></table></figure>
<ul>
<li>时间复杂度<ul>
<li>最好的时候，不需要插入，最大值直接放在了前面排好序的最右边，也就是没有内循环，n</li>
<li>最差的时候，反序，需要全都循环一遍 n2</li>
</ul>
</li>
<li>空间复杂度 1</li>
<li>in-place</li>
<li>稳定性：稳定，因为如果是[2, 0, 0, 1]，第一个0先插入变成了[0_1, 2, 0_2, 1]，然后插入第二个0的时候因为比较的时候没有比等于，所以会变成[0_1, 0_2, 2, 1]</li>
</ul>
<h1 id="希尔排序"><a href="#希尔排序" class="headerlink" title="希尔排序"></a>希尔排序</h1><ul>
<li>选择一个序列来对这个数组进行排序，比如如果是10个数，可以是5 2 1这样的，最后一个一定是1（设定的公式是3xn + 1不知道为什么）</li>
<li>然后根据这个序列把数组分成这个序列个数的组，对每组的数字进行插入排序。比如用5分成两份，那就要进行5次，两个之间的排序</li>
<li>一共进行的排序次数是和序列的个数有关的</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ShellSort</span><span class="params">(nums)</span>:</span></span><br><span class="line">    n = len(nums)</span><br><span class="line">    gap = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> gap &lt; n / <span class="number">3</span>:</span><br><span class="line">        gap = gap * <span class="number">3</span> + <span class="number">1</span>  <span class="comment"># 一个神奇的选择方法，也不知道为什么但是确实很好用</span></span><br><span class="line">    <span class="keyword">while</span> gap &gt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(gap, n):</span><br><span class="line">            <span class="comment"># 这里执行的是插入排序，和上面的插入排序一样，只不过每次跳gap个了</span></span><br><span class="line">            temp = nums[i]</span><br><span class="line">            j = i</span><br><span class="line">            <span class="keyword">while</span> j &gt; <span class="number">0</span> <span class="keyword">and</span> temp &lt; nums[j - gap]:</span><br><span class="line">                nums[j] = nums[j - gap]</span><br><span class="line">                j -= gap</span><br><span class="line">            <span class="keyword">if</span> j != i:</span><br><span class="line">                nums[j] = temp</span><br><span class="line">        <span class="comment"># 直接int就可以向下取整，因为加1并不影响取整效果</span></span><br><span class="line">        gap = int(gap / <span class="number">3</span>)</span><br><span class="line">    <span class="keyword">return</span> nums</span><br></pre></td></tr></table></figure>
<ul>
<li>关于增量，不同的增量对时间复杂度有不同的影响<ul>
<li>目前应用最多的是 Knuth增量:1,4,13,40,…,(3^k - 1)/2，也就是代码里面的这个增量</li>
<li>这时候的复杂度是 N^（3/2）</li>
</ul>
</li>
<li>时间复杂度：<ul>
<li>根据不同的步长不同而有所差别，还有的步长还没计算出来复杂度</li>
<li>如果是原版的，也就是原长度一直除2的话<ul>
<li>最好效果：n，也就是不需要内循环</li>
<li>最烂效果：n^2</li>
</ul>
</li>
</ul>
</li>
<li>空间复杂度 1</li>
<li>in-place</li>
<li>不稳定，因为很有可能因为分组的不同把两个数的顺序颠倒，比如两组的后面都是3，但是第一组的前一个是2，第二组的前一个是4，这样就把第二个3换到前面去了</li>
</ul>
<h1 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h1><ul>
<li>归并排序是分治法的一个典型的应用，可以把有序的子列合并，然后得到新的有序的子列</li>
<li>比较方法<ul>
<li>首先比较两个子列的初始值a[i]和b[j]，把比较小的那个（比如i）放进新的list[k]里面，并且让<strong>i和k</strong>分别加一，然后继续比较i和j，然后结果放进k里。</li>
<li>如果有一个子列已经取完了，那么可以直接把另一个里面的剩余元素复制到新的list的最后</li>
<li>因为现在使用的子列已经是排好序的了，所以可以使用这种比较方法。初始状态认为每一个数字都是一个单独的子列，所以往上合并的时候都是有序的了</li>
</ul>
</li>
<li>实现：<ul>
<li>申请一个新的空间，大小是两个子列的大小之和</li>
<li>两个指针分别从初始位置开始</li>
<li>根据上面的方法移动指针</li>
<li>在实现的过程中需要用到拆分和合并两个步骤</li>
</ul>
</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">MergeSort</span><span class="params">(nums)</span>:</span></span><br><span class="line">    n = len(nums)</span><br><span class="line">    <span class="keyword">if</span> n &lt; <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> nums</span><br><span class="line">    middle = int(n / <span class="number">2</span>)</span><br><span class="line">    L, R = nums[:middle], nums[middle:]</span><br><span class="line">    <span class="keyword">return</span> merge(MergeSort(L), MergeSort(R))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge</span><span class="params">(L, R)</span>:</span></span><br><span class="line">    M = []</span><br><span class="line">    i, j = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> L <span class="keyword">and</span> R:</span><br><span class="line">        <span class="keyword">if</span> L[<span class="number">0</span>] &lt;= R[<span class="number">0</span>]:</span><br><span class="line">            M.append(L.pop(<span class="number">0</span>))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            M.append(R.pop(<span class="number">0</span>))</span><br><span class="line">    <span class="keyword">while</span> L:</span><br><span class="line">        M.append(L.pop(<span class="number">0</span>))</span><br><span class="line">    <span class="keyword">while</span> R:</span><br><span class="line">        M.append(R.pop(<span class="number">0</span>))</span><br><span class="line">    <span class="keyword">return</span> M</span><br></pre></td></tr></table></figure>
<ul>
<li><p>在python实现中，其实并不需要用坐标表示，可以直接用pop把每次需要取的东西取出来</p>
</li>
<li><p>时间复杂度</p>
<ul>
<li>无论最好或者最坏的情况都需要把所有东西都比较一回，一共是logn层，每层的实际内容都是n个，所以最终的复杂度是nlog(n)。这样看出来归并排序对于最好和最坏的情况比较稳定</li>
</ul>
</li>
<li>空间复杂度：<ul>
<li>临时数组的时间n + recursive的时候的空间logn = O(n)</li>
</ul>
</li>
<li>out of place</li>
<li>稳定性：稳定，因为在左边的一定是在左边</li>
</ul>
<h1 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h1><ul>
<li>选取数组的第一个作为标准，然后把比这个标准小的都放在左边，比标准大的都放在右边</li>
<li>然后再分别对左右进行快速排序</li>
<li>注意，在不是python的情况下，需要通过角标互换的方法得到结果</li>
<li>实现<ul>
<li>选择一个基准piv</li>
<li>数列最左边的标记为左标记，最右边的标记是右标记</li>
<li>将左标记向右标记移动</li>
<li>如果左标记的值超过了piv的值，停止</li>
<li>移动右标记</li>
<li>当右标记小于piv的时候，停止移动</li>
<li>当左右标记都停止的时候，交换两个数字</li>
<li>然后继续移动，直到两个标记碰到一起，这时候把这个值和piv交换</li>
</ul>
</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">QuickSort</span><span class="params">(nums, s, e)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> s &lt; e:</span><br><span class="line">        i, j = s, e</span><br><span class="line">        piv = nums[i]</span><br><span class="line">        index = i</span><br><span class="line">        <span class="keyword">while</span> i &lt; j:</span><br><span class="line">            <span class="keyword">while</span> (i &lt; j) <span class="keyword">and</span> nums[j] &gt;= piv:</span><br><span class="line">                j -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">while</span> (i &lt; j) <span class="keyword">and</span> nums[i] &lt;= piv:</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">            nums[i], nums[j] = nums[j], nums[i]</span><br><span class="line">        nums[i], nums[index] = piv, nums[i]</span><br><span class="line"></span><br><span class="line">        QuickSort(nums, s, i - <span class="number">1</span>)</span><br><span class="line">        QuickSort(nums, j + <span class="number">1</span>, e)</span><br><span class="line">    <span class="keyword">return</span> nums</span><br></pre></td></tr></table></figure>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">QuickSort_1</span><span class="params">(nums)</span>:</span></span><br><span class="line">    n = len(nums)</span><br><span class="line">    <span class="keyword">if</span> n &lt; <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> nums</span><br><span class="line">    temp = nums[<span class="number">0</span>]</span><br><span class="line">    less, more, equal = [], [], [temp]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> nums[<span class="number">1</span>:]:</span><br><span class="line">        <span class="keyword">if</span> i &lt; temp:</span><br><span class="line">            less.append(i)</span><br><span class="line">        <span class="keyword">elif</span> i &gt; temp:</span><br><span class="line">            more.append(i)</span><br><span class="line">        <span class="keyword">elif</span> i == temp:</span><br><span class="line">            equal.append(i)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># less = [x for x in nums[1:] if x &lt; temp]</span></span><br><span class="line">    <span class="comment"># more = [x for x in nums[1:] if x &gt; temp]</span></span><br><span class="line">    <span class="comment"># equal = [x for x in nums if x == temp]</span></span><br><span class="line">    <span class="keyword">return</span> QuickSort(less) + equal + QuickSort(more)</span><br></pre></td></tr></table></figure>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">QuickSort_3</span><span class="params">(nums)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> len(nums) &lt; <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> nums</span><br><span class="line">    i, j = <span class="number">0</span>, len(nums) - <span class="number">1</span></span><br><span class="line">    piv = nums[i]</span><br><span class="line">    index = i</span><br><span class="line">    <span class="keyword">while</span> i &lt; j:</span><br><span class="line">        <span class="keyword">while</span> (i &lt; j) <span class="keyword">and</span> nums[j] &gt;= piv:</span><br><span class="line">            j -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> (i &lt; j) <span class="keyword">and</span> nums[i] &lt;= piv:</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">        nums[i], nums[j] = nums[j], nums[i]</span><br><span class="line">    nums[i], nums[index] = piv, nums[i]</span><br><span class="line">    <span class="keyword">return</span> QuickSort_3(nums[:i]) + [piv] + QuickSort_3(nums[i + <span class="number">1</span>:])</span><br></pre></td></tr></table></figure>
<ul>
<li>第一种方法input的时候需要确定最开始和结束时候的index。看起来只有第一种方法是in-place的实现？</li>
<li>时间复杂度：<ul>
<li>最差的时候和冒泡排序是一样的（也就是排好的），这时候的复杂度是n^2</li>
<li>最好的时候是完全平分，这时候是 nlogn</li>
</ul>
</li>
<li>空间复杂度：如果用第一种方法，只耗费recursive时候的空间，也就是logn</li>
<li>in-place</li>
<li>不稳定，因为不知道在换的时候就把什么奇奇怪怪的东西换到前面去了</li>
</ul>
<h1 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h1><ul>
<li>一种类似二叉树的设计，子节点的<strong>数值</strong>总是大于或者小于父节点的<strong>数值</strong>。首先要让数据形成这样的结构</li>
<li>每次操作的时候，都把root的值和最后一个节点交换，交换后的最后一个节点移动出堆，然后再重新移动堆让他保持上面说的性质</li>
<li>一般通过一维数组来访问<ul>
<li>父节点i的左节点：2i+1</li>
<li>父节点i的有节点：2i+2</li>
<li>子节点的父节点： floor（（i-1）/2）</li>
</ul>
</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">HeapSort</span><span class="params">(nums)</span>:</span></span><br><span class="line">    <span class="comment"># start是从最后一个父节点开始的,构建出heap</span></span><br><span class="line">    <span class="keyword">for</span> start <span class="keyword">in</span> range((len(nums)<span class="number">-2</span>)//<span class="number">2</span>,<span class="number">-1</span>,<span class="number">-1</span>):</span><br><span class="line">        MinHeap(nums,start,len(nums)<span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(nums)<span class="number">-1</span>,<span class="number">-1</span>,<span class="number">-1</span>):</span><br><span class="line">        nums[i],nums[<span class="number">0</span>] = nums[<span class="number">0</span>],nums[i]</span><br><span class="line">        <span class="comment"># 因为这里换到最后去的数字就已经确定是最大值了，所以再考虑的时候不用考虑他了</span></span><br><span class="line">        MinHeap(nums,<span class="number">0</span>,i<span class="number">-1</span>)</span><br><span class="line">    <span class="keyword">return</span> nums</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">MinHeap</span><span class="params">(nums, start, end)</span>:</span></span><br><span class="line">    dad = start</span><br><span class="line">    child = dad * <span class="number">2</span> + <span class="number">1</span></span><br><span class="line">    <span class="comment"># 如果子节点还在这个堆里面的话</span></span><br><span class="line">    <span class="keyword">while</span> child &lt;= end:</span><br><span class="line">        <span class="keyword">if</span> child + <span class="number">1</span> &lt;= end <span class="keyword">and</span> nums[child] &gt; nums[child + <span class="number">1</span>]:</span><br><span class="line">            <span class="comment"># 比较两个子节点，选出来更小的那个</span></span><br><span class="line">            child += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> nums[dad] &lt; nums[child]:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            nums[dad], nums[child] = nums[child], nums[dad]</span><br><span class="line">            dad = child</span><br><span class="line">            child = dad * <span class="number">2</span> + <span class="number">1</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>注意</strong>：如果是maxheap（即root上的数字是最大的数字的话），实际排出来的是由小到大，因为max的数字在每一次都被换到了最后面</li>
<li>时间复杂度：nlogn</li>
<li>空间复杂度：1</li>
<li>上面的代码可以原地完成的 in place</li>
<li>稳定性：不稳定，这种瞎换的很难搞清楚到底换到哪里去了</li>
</ul>
<h1 id="计数排序"><a href="#计数排序" class="headerlink" title="计数排序"></a>计数排序</h1><ul>
<li>扫描一遍整个数组，找到最大值max和最小值min，花费时间n</li>
<li>创建一个新的数组，大小是max-min + 1</li>
<li>然后用新数组里面的index来统计每个数字出现的次数，最后整理出来</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">CountingSort</span><span class="params">(nums)</span>:</span></span><br><span class="line">    Max,Min = max(nums),min(nums)</span><br><span class="line">    counting = [<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(Max-Min+<span class="number">1</span>)]</span><br><span class="line">    result = []</span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> nums:</span><br><span class="line">        counting[n-Min] += <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> n,i <span class="keyword">in</span> enumerate(counting):</span><br><span class="line">        result += i * [n + Min]</span><br><span class="line">    <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">CountingSort_2</span><span class="params">(nums)</span>:</span> <span class="comment">#并不创建新的数组</span></span><br><span class="line">    Max= max(nums)</span><br><span class="line">    bucketLen = Max + <span class="number">1</span></span><br><span class="line">    bucket = [<span class="number">0</span>]*bucketLen</span><br><span class="line">    sortedIndex = <span class="number">0</span></span><br><span class="line">    n = len(nums)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">        <span class="comment"># 如果现在的这个位置是空的</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> bucket[nums[i]]:</span><br><span class="line">            bucket[nums[i]] = <span class="number">0</span></span><br><span class="line">        bucket[nums[i]] += <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(bucketLen):</span><br><span class="line">        <span class="keyword">while</span> bucket[j] &gt; <span class="number">0</span>:</span><br><span class="line">            nums[sortedIndex] = j</span><br><span class="line">            sortedIndex += <span class="number">1</span></span><br><span class="line">            bucket[j] -= <span class="number">1</span></span><br></pre></td></tr></table></figure>
<ul>
<li>不是比较排序，时间上来说比任何比较排序都快</li>
<li>没法用在排序的东西不是数字的情况下，数字差异非常大的情况会很占内存。排序的必须是整数</li>
<li>时间复杂度 <ul>
<li>n+k，只需要在整个数组里找出最大值和最小值，然后在k时间里面数数每个数字出现了多少次。其中k是这些整数的范围</li>
</ul>
</li>
<li>空间复杂度<ul>
<li>k用来储存计数的数组</li>
</ul>
</li>
<li>稳定：为了保证数组的稳定性，需要反向填充数组（现在的方法不能保证稳定性）</li>
</ul>
<h1 id="桶排序"><a href="#桶排序" class="headerlink" title="桶排序"></a>桶排序</h1><ul>
<li>思想基于上面的计数排序，但是没有分那么多种</li>
<li>主要想法就是先把现在的内容分到k个不同的桶里面，再在每个桶里面分别排序</li>
<li>步骤<ul>
<li>把数据分到k个桶里<ul>
<li>每个桶的范围是 floor（（max-min+1）/ k）</li>
<li>放入桶的编号为 floor((数字-最小值)/每个桶的范围)</li>
</ul>
</li>
<li>对每个不为空的桶排序</li>
<li>连接每个不为空的桶</li>
</ul>
</li>
<li>时间复杂度：<ul>
<li>最好n+k -&gt; 平均分</li>
<li>最差是n^2 都分到一个桶里了</li>
</ul>
</li>
<li>空间复杂度 n+k</li>
<li>稳定，注意先放进桶里的要先拿出来，才能保证稳定</li>
</ul>
<h1 id="基数排序-radix-sort"><a href="#基数排序-radix-sort" class="headerlink" title="基数排序 radix sort"></a>基数排序 radix sort</h1><ul>
<li>非比较的整数排序的算法。也可以用在字母上，也就是LSD和MSD</li>
<li>把整数按位切割成不同的数字，然后每个位的数字分别比较。需要把比较的位放进0-9的九个桶里</li>
<li>步骤<ul>
<li>所有数统一到一个长度，短的话前面补0</li>
<li>从最低位开始，依据最低位进行排序</li>
<li>一直排到最高位，排序之后就是有序的了</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://bigphess.github.io/2019/08/22/unity显示相机画面/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RUOPENG XU">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天开始努力学习">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/22/unity显示相机画面/" class="post-title-link" itemprop="url">unity显示相机画面并在opencv处理</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-08-22 12:19:07 / Modified: 17:05:48" itemprop="dateCreated datePublished" datetime="2019-08-22T12:19:07+09:00">2019-08-22</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Unity/" itemprop="url" rel="index"><span itemprop="name">Unity</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Unity/OpenCV/" itemprop="url" rel="index"><span itemprop="name">OpenCV</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="打开相机"><a href="#打开相机" class="headerlink" title="打开相机"></a>打开相机</h1><h2 id="显示方法"><a href="#显示方法" class="headerlink" title="显示方法"></a>显示方法</h2><p>首先需要明确，目前看到的显示图片有两种方法，一种是渲染到实际的gameobject上面去，另一种是draw到GUI上面去。关于gameobject在上一个<a href="https://bigphess.github.io/2019/08/20/unity%E4%B8%8EopenCV%E6%98%BE%E7%A4%BA%E5%9B%BE%E7%89%87/">显示图片</a>里面有了大致的了解。这里主要说的内容包括</p>
<ul>
<li>相机显示的必备步骤</li>
<li>关于GUI</li>
<li>关于renderer</li>
</ul>
<h2 id="相机内容显示"><a href="#相机内容显示" class="headerlink" title="相机内容显示"></a>相机内容显示</h2><ul>
<li>在unity中，有一个专门的类叫做WebCamTexture，我们需要为读取进来的相机texture创建一个新的对象。一般来说，需要三个部分，相机纹理，相机名字（string）以及相机是否打开（bool）</li>
</ul>
<h3 id="start部分"><a href="#start部分" class="headerlink" title="start部分"></a>start部分</h3><ul>
<li>在这部分，我们首先需要把创建的cameraTexture实例化</li>
<li>其次，我们需要调用<code>StartCoroutine</code>函数，在其中调用测试函数来确定相机是否打开</li>
</ul>
<h4 id="StartCoroutine"><a href="#StartCoroutine" class="headerlink" title="StartCoroutine"></a>StartCoroutine</h4><ul>
<li>在一般的执行里面，unity是逐帧运行的，所以当操作花费时间的时候，帧率下降，就会发生卡顿</li>
<li>这部分开始了一个协程（Coroutine），使用yield，可以在任何部分暂停这个Coroutine的执行。如果被成功暂停，它会在下一帧恢复正常。所以这个方法在多帧运行之中非常好用。<ul>
<li>unity会假装开辟一个新线程来执行，但是不会影响主线程的持续效果</li>
<li><a href="https://blog.csdn.net/qq_15379219/article/details/80507864" target="_blank" rel="noopener">参考</a></li>
</ul>
</li>
<li>从这里的功能来说，yield会检查用户有没有授权，如果没有授权的话，运行被终止，跳到下一帧。如果授权成功了的话，运行成功，相机打开。</li>
</ul>
<h4 id="IEnumerator"><a href="#IEnumerator" class="headerlink" title="IEnumerator"></a>IEnumerator</h4><ul>
<li>在StartCoroutine调用的是一个IEnumerator函数，他通过yield一个bool来决定是不是继续运行这个函数</li>
</ul>
<h4 id="授权"><a href="#授权" class="headerlink" title="授权"></a>授权</h4><ul>
<li>在test里面需要考虑有没有用户的授权</li>
<li>有授权的情况下，需要把目前的WebCamTexture（注意这里不是建立的实例）的device的数据传递给<code>WebCamDevice</code>，包括类型，名字等等。</li>
<li>然后需要把包括这个相机名字，size和fps的信息传给之前cameraTexture的实例</li>
<li>以上都设定好之后，<code>WebCamTexture.Play</code>会激活这个相机，让他开始工作</li>
<li>然后再讲相机的texture渲染到object的表面上<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">yield</span> <span class="keyword">return</span> Application.RequestUserAuthorization(UserAuthorization.WebCam);</span><br><span class="line">        <span class="keyword">if</span>(Application.HasUserAuthorization(UserAuthorization.WebCam))</span><br><span class="line">        &#123;</span><br><span class="line">            WebCamDevice[] devices = WebCamTexture.devices;</span><br><span class="line">            cameraName = devices[<span class="number">0</span>].name;</span><br><span class="line">            cameraTexture = <span class="keyword">new</span> WebCamTexture(cameraName, <span class="number">1024</span>, <span class="number">768</span>, <span class="number">15</span>);</span><br><span class="line">            cameraTexture.Play();</span><br><span class="line">            isOpen = <span class="literal">true</span>;</span><br><span class="line">            renderer.material.mainTexture = cameraTexture;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="GUI"><a href="#GUI" class="headerlink" title="GUI"></a>GUI</h2><ul>
<li>GUI主要是提供了图形化的窗口，实际上显示的元素是直接显示在game画面上的，也就是说这部分是和实际相机拍摄到的画面独立的。无论相机如何移动，物体如何改变，最终GUI的画面都会显示到同样的地方</li>
</ul>
<h3 id="MonoBehaviour-OnGUI"><a href="#MonoBehaviour-OnGUI" class="headerlink" title="MonoBehaviour.OnGUI()"></a>MonoBehaviour.OnGUI()</h3><ul>
<li><strong>注意OnGUI函数并不需要我们自己去调用，不需要再update里面调用！</strong></li>
<li>OnGUI是API里面自带的函数，我们需要在这个函数中渲染和处理GUI的event</li>
<li>在实际应用中，OnGUI可能每一个frame被call很多次，每次event（例如鼠标操作，键盘等等）发生的时候都会call这个函数</li>
<li>例如下面官方的例子，每次鼠标点击的时候，就会print出相应的话来<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ExampleClass</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">OnGUI</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (GUI.Button(<span class="keyword">new</span> Rect(<span class="number">10</span>, <span class="number">10</span>, <span class="number">150</span>, <span class="number">100</span>), <span class="string">"I am a button"</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            print(<span class="string">"You clicked the button!"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="GUI-DrawTexture"><a href="#GUI-DrawTexture" class="headerlink" title="GUI.DrawTexture"></a>GUI.DrawTexture</h3><ul>
<li>在GUI的实现中，我们需要将相机读取到的部分draw的GUI的上面，所以调用了这个函数</li>
<li>需要确定的参数包括：位置，需要渲染的texture，缩放比例等等</li>
</ul>
<h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><ul>
<li><a href="https://blog.csdn.net/weixin_33966095/article/details/85736365" target="_blank" rel="noopener">代码部分参考</a><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">showCamera</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">protected</span> WebCamTexture cameraTexture;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">string</span> cameraName = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">bool</span> isOpen = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//protected MeshRenderer renderer;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="comment">//renderer = this.GetComponent&lt;MeshRenderer&gt;();</span></span><br><span class="line">        cameraTexture = <span class="keyword">new</span> WebCamTexture();</span><br><span class="line">        StartCoroutine(Test());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">IEnumerator <span class="title">Test</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">yield</span> <span class="keyword">return</span> Application.RequestUserAuthorization(UserAuthorization.WebCam);</span><br><span class="line">        <span class="keyword">if</span>(Application.HasUserAuthorization(UserAuthorization.WebCam))</span><br><span class="line">        &#123;</span><br><span class="line">            WebCamDevice[] devices = WebCamTexture.devices;</span><br><span class="line">            cameraName = devices[<span class="number">0</span>].name;</span><br><span class="line">            cameraTexture = <span class="keyword">new</span> WebCamTexture(cameraName, <span class="number">1024</span>, <span class="number">768</span>, <span class="number">15</span>);</span><br><span class="line">            cameraTexture.Play();</span><br><span class="line">            isOpen = <span class="literal">true</span>;</span><br><span class="line">            <span class="comment">//renderer.material.mainTexture = cameraTexture;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">OnGUI</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span>(isOpen)</span><br><span class="line">        &#123;</span><br><span class="line">            GUI.DrawTexture(<span class="keyword">new</span> Rect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">400</span>, <span class="number">300</span>), cameraTexture, ScaleMode.ScaleToFit);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="渲染到object上面"><a href="#渲染到object上面" class="headerlink" title="渲染到object上面"></a>渲染到object上面</h2><ul>
<li>和之前的操作类似，需要<ul>
<li>构建MeshRenderer的object </li>
<li>在start里面读取出物体的MeshRenderer（getcomponent）</li>
<li>最后打开相机后，把相机的内容渲染到MeshRenderer上面</li>
</ul>
</li>
</ul>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">showCamera</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">protected</span> WebCamTexture cameraTexture;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">string</span> cameraName = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">bool</span> isOpen = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> MeshRenderer renderer;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        renderer = <span class="keyword">this</span>.GetComponent&lt;MeshRenderer&gt;();</span><br><span class="line">        <span class="comment">//cameraTexture = new WebCamTexture();</span></span><br><span class="line">        StartCoroutine(Test());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function">IEnumerator <span class="title">Test</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">yield</span> <span class="keyword">return</span> Application.RequestUserAuthorization(UserAuthorization.WebCam);</span><br><span class="line">        <span class="keyword">if</span>(Application.HasUserAuthorization(UserAuthorization.WebCam))</span><br><span class="line">        &#123;</span><br><span class="line">            WebCamDevice[] devices = WebCamTexture.devices;</span><br><span class="line">            cameraName = devices[<span class="number">0</span>].name;</span><br><span class="line">            cameraTexture = <span class="keyword">new</span> WebCamTexture(cameraName, <span class="number">1024</span>, <span class="number">768</span>, <span class="number">15</span>);</span><br><span class="line">            cameraTexture.Play();</span><br><span class="line">            isOpen = <span class="literal">true</span>;</span><br><span class="line">            renderer.material.mainTexture = cameraTexture;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//void OnGUI()</span></span><br><span class="line">    <span class="comment">//&#123;</span></span><br><span class="line">    <span class="comment">//    if(isOpen)</span></span><br><span class="line">    <span class="comment">//    &#123;</span></span><br><span class="line">    <span class="comment">//        GUI.DrawTexture(new Rect(0, 0, 400, 300), cameraTexture, ScaleMode.ScaleToFit);</span></span><br><span class="line">    <span class="comment">//    &#125;</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="将图片放入opencv"><a href="#将图片放入opencv" class="headerlink" title="将图片放入opencv"></a>将图片放入opencv</h1><p><a href="https://teratail.com/questions/33847" target="_blank" rel="noopener">来源</a></p>
<ul>
<li>得到了web的texture之后，可以直接用openCV的部分把这个玩意转换成mat，然后处理</li>
<li>这里的问题是刚开始mat的大小莫名其妙的是16，所以需要加上一个判断条件</li>
</ul>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> OpenCVForUnity.CoreModule;</span><br><span class="line"><span class="keyword">using</span> OpenCVForUnity.UnityUtils;</span><br><span class="line"><span class="keyword">using</span> OpenCVForUnity.ImgprocModule;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">showCamera</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">protected</span> WebCamTexture cameraTexture;</span><br><span class="line">    <span class="comment">//protected string cameraName = "";</span></span><br><span class="line">    <span class="comment">//protected bool isOpen = false;</span></span><br><span class="line">    <span class="keyword">private</span> Color32[] colors;</span><br><span class="line">    <span class="keyword">private</span> Mat rgbaMat;</span><br><span class="line">    <span class="keyword">private</span> Texture2D tex;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="comment">//renderer = this.GetComponent&lt;MeshRenderer&gt;();</span></span><br><span class="line">        <span class="comment">//cameraTexture = new WebCamTexture();</span></span><br><span class="line">        <span class="comment">//StartCoroutine(Test());</span></span><br><span class="line">        cameraTexture = <span class="keyword">new</span> WebCamTexture(WebCamTexture.devices[<span class="number">0</span>].name, <span class="number">640</span>, <span class="number">480</span>);</span><br><span class="line">        cameraTexture.Play();</span><br><span class="line"></span><br><span class="line">        StartCoroutine(init());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> IEnumerator <span class="title">init</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Debug.Log(cameraTexture.width);</span><br><span class="line">        <span class="keyword">if</span> (cameraTexture.width &lt;= <span class="number">16</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span>(!cameraTexture.didUpdateThisFrame)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="function"><span class="keyword">yield</span> return new <span class="title">WaitForEndOfFrame</span>(<span class="params"></span>)</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            cameraTexture.Pause();</span><br><span class="line">            colors = cameraTexture.GetPixels32();</span><br><span class="line">            cameraTexture.Stop();</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">yield</span> return new <span class="title">WaitForEndOfFrame</span>(<span class="params"></span>)</span>;</span><br><span class="line">            cameraTexture.Play();</span><br><span class="line"></span><br><span class="line">            tex = <span class="keyword">new</span> Texture2D(cameraTexture.width, cameraTexture.height, TextureFormat.RGBA32, <span class="literal">false</span>);</span><br><span class="line">            rgbaMat = <span class="keyword">new</span> Mat(cameraTexture.height, cameraTexture.width, CvType.CV_8UC4);</span><br><span class="line"></span><br><span class="line">            GetComponent&lt;Renderer&gt;().material.mainTexture = tex;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Debug.Log(cameraTexture.width);</span><br><span class="line">        <span class="keyword">if</span> (cameraTexture.didUpdateThisFrame &amp;&amp; rgbaMat != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Utils.webCamTextureToMat(cameraTexture, rgbaMat);</span><br><span class="line">            <span class="comment">//Imgproc.cvtColor(rgbaMat, rgbaMat, Imgproc.COLOR_RGB2HSV);</span></span><br><span class="line">            Utils.matToTexture2D(rgbaMat, tex);</span><br><span class="line">            tex.Apply();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://bigphess.github.io/2019/08/20/编程珠玑ProgrammingPearls/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RUOPENG XU">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="今天开始努力学习">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/20/编程珠玑ProgrammingPearls/" class="post-title-link" itemprop="url">编程珠玑ProgrammingPearls</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-08-20 16:55:35" itemprop="dateCreated datePublished" datetime="2019-08-20T16:55:35+09:00">2019-08-20</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-09-02 12:25:21" itemprop="dateModified" datetime="2019-09-02T12:25:21+09:00">2019-09-02</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/算法/" itemprop="url" rel="index"><span itemprop="name">算法</span></a></span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/算法/编程珠玑/" itemprop="url" rel="index"><span itemprop="name">编程珠玑</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="第一章"><a href="#第一章" class="headerlink" title="第一章"></a>第一章</h1><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><ul>
<li>开始的问题是如何对文件进行排序 -&gt; merge sort</li>
<li>整合问题之后，问题变成了需要对7位数字进行排序，这样的话需要的时间就远小于merge sort了</li>
</ul>
<h3 id="另一种方法"><a href="#另一种方法" class="headerlink" title="另一种方法"></a>另一种方法</h3><ul>
<li>如果在每个byte里面存一个数字，那么1MB可以存143000左右的号码（e6/7)</li>
<li>但是如果把每个数字表示成一个32位的int（也就是说每7位数存成一个32位的整数，那么这7位数就占4个byte），那么可以存250000左右的号码</li>
<li>从这个角度考虑，快排的速度比merge快</li>
</ul>
<h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><ul>
<li>从上面的问题分析来看，用bitmap或者bit vector来表示数据很常见。<ul>
<li>比如，可以用一个20bit的string来表示{1,2,3,5,8,13}</li>
<li>0 1 1 1 0 1 0 0 1 0 0 0 0 1 0 0 0 0 0 0</li>
<li>在这个里面，出现在集合里的数字就表示为1，没有出现的就表示为0</li>
</ul>
</li>
<li>在实际解决问题过程中，7位数字可以表示成一个小于千万的数。如果用一个千万的二进制串来表示，那么如果整个文件里面有现在的号码的时候，这个位才被表示为1，否则就被表示为0</li>
<li>分为三个阶段<ul>
<li>关闭所有的位，即千万个位全都是0</li>
<li>从输入文件里面导入所有的数字，比如2897的话，就是b[2897]=1</li>
<li>全部输入完毕之后，再根据现有存在的数字就可以直接排序，输出了</li>
</ul>
</li>
</ul>
<h2 id="处理原则"><a href="#处理原则" class="headerlink" title="处理原则"></a>处理原则</h2><p>总原则：在开始处理问题之前分析问题，才能让问题更好解决</p>
<ul>
<li>确定正确的问题 -&gt; 最重要的一点</li>
<li>选择了bitmap的数据结构：选择这个数据结构是根据电话号码不会重复这个特殊条件得到的</li>
<li>multi-pass</li>
<li>时间和空间的trade off</li>
<li>简单设计</li>
</ul>
<h1 id="第二章-算法"><a href="#第二章-算法" class="headerlink" title="第二章 算法"></a>第二章 算法</h1><h2 id="问题1："><a href="#问题1：" class="headerlink" title="问题1："></a>问题1：</h2><ul>
<li>如果有最多40亿个排好序的32位浮点数，其中有遗漏的数据，如何找到遗漏的数据。考虑内存足够的时候和内存不够的时候的情况<ul>
<li>如果内存足够，可以像第一章说的一样，用位图来表示这些数据，然后看哪些没有</li>
</ul>
</li>
</ul>
<h3 id="如果内存不够？"><a href="#如果内存不够？" class="headerlink" title="如果内存不够？"></a>如果内存不够？</h3><ul>
<li>二分查找<ul>
<li>必须定义范围，范围里面每个数字的表示方法和探测方法</li>
<li>比如如果把这些数据分成两部分，比如1-10里面取中位数，因为缺数据的原因，总是会有一边的个数少，那么缺的数据就肯定在少的这边</li>
</ul>
</li>
</ul>
<h2 id="问题2："><a href="#问题2：" class="headerlink" title="问题2："></a>问题2：</h2><ul>
<li>将具有n个元素的向量x左旋i个位置，时间上与n成正比，有十几字节的额外空间</li>
<li>直接方法<ul>
<li>储存到额外数组 -&gt; 太浪费空间了</li>
<li>定义一个函数将数组每次移动一个位置 -&gt; 太浪费时间了（虽然时间上和n成正比）</li>
</ul>
</li>
<li>另一个思考<ul>
<li>把一个数组分成不同的组，每次把对应组的内容转移，直到所有内容都转移成功。比如把x[0]挪出去，x[3]诺到x[0],x[6]挪到3，然后0挪到6。然后再挪x[1]和他的对应的内容们</li>
</ul>
</li>
<li>另一种思考方法：旋转x实际就是把ab转换成ba<ul>
<li>如果a是前i个元素，a比b短，把b分割成b1和b2，让b2和a的长度一样</li>
<li>那么可以先交换a和b2 -&gt; b2 a b1</li>
<li>然后再集中精力交换b1和b2里的元素，也就是说这可以是一个recursive的表示方法</li>
</ul>
</li>
<li><strong>转置</strong>：这个看起来在写Leetcode的时候非常好用啊！！！<strong>但是注意在python里面reverse要自己写</strong><ul>
<li>如果把问题看成转置，实际上数组ab可以<ul>
<li>先转置a：aTb</li>
<li>再转置b：aTbT</li>
<li>再转置整个数组：（aTbT）T = ba</li>
</ul>
</li>
<li>也就是说，如果abcdefg想让他旋转三位，实际上可以做到的是<ul>
<li>reverse（0，2）：<strong>cba</strong>defg</li>
<li>reverse（3，6）：cba<strong>gfed</strong></li>
<li>reverse（0，6）：<strong>defgabc</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="问题3"><a href="#问题3" class="headerlink" title="问题3"></a>问题3</h2><ul>
<li>找到一个单词的变位词：比如pots和stop</li>
</ul>
<h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><ul>
<li>注意，找到所有的可能性是很愚蠢的，比如一个22个字母的词，所有的变位22！大概是10e21，时间爆炸了</li>
<li>核心思想 -&gt; 排序，排序之后的变位词就都一样了</li>
<li>leetcode 242,49<ul>
<li>这个题的核心思路就是，每个单词按字母顺序排序之后的答案就是这个单词的key，如果两个单词的key一样的话这两个单词就是变位词，如果不一样的话就是新的词</li>
<li>在python里面直接用字典可以很好的储存变位词</li>
</ul>
</li>
</ul>
<h1 id="第三章-数据结构"><a href="#第三章-数据结构" class="headerlink" title="第三章 数据结构"></a>第三章 数据结构</h1><p>数据结构的意义就是让代码可以更加简短整洁 -&gt; 比如用数组代替循环</p>
<ul>
<li>原则：能用小程序解决的就不要用大程序<ul>
<li>把重复性代码改写</li>
<li>封装复杂的结构</li>
<li>尽可能使用高级工具</li>
<li>让数据去构造程序</li>
</ul>
</li>
</ul>
<h1 id="第四章-正确编写程序"><a href="#第四章-正确编写程序" class="headerlink" title="第四章 正确编写程序"></a>第四章 正确编写程序</h1><h2 id="写一个完全正确的binary-search吧！"><a href="#写一个完全正确的binary-search吧！" class="headerlink" title="写一个完全正确的binary search吧！"></a>写一个完全正确的binary search吧！</h2><ul>
<li>注意点<ul>
<li>求中位数的时候是前后相加，除以二</li>
<li>注意跳出循环的条件是 start&gt; end</li>
<li>为了满足上面的循环条件，需要每次判断完mid之后，把start或者end移动一位，不然会陷入死循环</li>
</ul>
</li>
<li>后面的9，11，14会用到程序的<strong>验证技术</strong><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">search</span><span class="params">(self, nums: List[int], target: int)</span> -&gt; int:</span></span><br><span class="line">        start = <span class="number">0</span></span><br><span class="line">        end = len(nums) - <span class="number">1</span></span><br><span class="line">        mid = (start + end) // <span class="number">2</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> start &lt;= end:</span><br><span class="line">            <span class="keyword">if</span> target == nums[mid]:</span><br><span class="line">                <span class="keyword">return</span> mid</span><br><span class="line">            <span class="keyword">elif</span> target &gt; nums[mid]:</span><br><span class="line">                start = mid + <span class="number">1</span></span><br><span class="line">                mid = (end + start) // <span class="number">2</span></span><br><span class="line">            <span class="keyword">elif</span> target &lt; nums[mid]:</span><br><span class="line">                end = mid - <span class="number">1</span> </span><br><span class="line">                mid = (start + end) // <span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="第五章-次要问题"><a href="#第五章-次要问题" class="headerlink" title="第五章 次要问题"></a>第五章 次要问题</h1><ul>
<li>虽然每次写完了程序，大家基本都会选择把它直接插入系统，然后强烈的希望他能运行</li>
<li>（哭了，写的也太真实了）</li>
</ul>
<h2 id="测试用例"><a href="#测试用例" class="headerlink" title="测试用例"></a>测试用例</h2><ul>
<li>设置极小的测试用例（比如0个，1个，2个元素等等）</li>
<li>设置可以自动生成的测试用例</li>
<li>计时，测试不同方法的时间</li>
</ul>
<h2 id="调试-gt-引发bug是会有实际的逻辑原因的，调试的时候需要关注这些问题"><a href="#调试-gt-引发bug是会有实际的逻辑原因的，调试的时候需要关注这些问题" class="headerlink" title="调试 -&gt; 引发bug是会有实际的逻辑原因的，调试的时候需要关注这些问题"></a>调试 -&gt; 引发bug是会有实际的逻辑原因的，调试的时候需要关注这些问题</h2><hr>
<h1 id="第六章-性能透视"><a href="#第六章-性能透视" class="headerlink" title="第六章 性能透视"></a>第六章 性能透视</h1><p>在后面的三章会说到提高运行效率的三个方法，在第六章主要讲的是各个层次如何组合为一个整体</p>
<h2 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h2><ul>
<li>一个模拟天体间受力关系，来模拟运动的程序，通过对程序的改进，在n=1000的程度下，把速度从一年提升到了不到一天，速度提升系数约为400</li>
<li>改进方法<ul>
<li>算法和数据结构，把时间复杂度n2 -&gt; nlogn（二叉树）</li>
<li>算法优化，优化了两个粒子靠的很近的情况</li>
<li>数据结构重组，减少了局部计算的次数</li>
<li>代码优化：64位浮点数改为32位，计算时间减半。用汇编重写了某个函数，给缓慢的函数加速</li>
<li>硬件，提升了硬件</li>
</ul>
</li>
<li>算法加速不一定是独立于硬件的，比如在超级计算机上，树形结构对时间的影响就很小</li>
</ul>
<h2 id="设计层次"><a href="#设计层次" class="headerlink" title="设计层次"></a>设计层次</h2><ul>
<li>问题的定义</li>
<li>系统结构 -&gt; 第七章，封底估计</li>
<li>算法和数据结构 -&gt; 2,8章</li>
<li>代码优化 -&gt; 9</li>
<li>系统软件</li>
<li>硬件：比如实现某个功能的专门硬件</li>
</ul>
<h2 id="原则"><a href="#原则" class="headerlink" title="原则"></a>原则</h2><ul>
<li>如果需要少量加速，研究最好的层次。虽然修改算法是非常常见的答案，但是在研究之前最好考虑一下所有可能的层次。比如硬件？这种的，最好能找到一个得到最大加速，又所需精力最少的层次</li>
<li>如果需要大量加速，需要研究多个层次。就像上面的案例一样</li>
</ul>
<h1 id="封底计算"><a href="#封底计算" class="headerlink" title="封底计算"></a>封底计算</h1><p>在处理问题之前，需要对这个问题的规模有一个大概的估计，才能更好的处理问题</p>
<h2 id="帮助封底计算"><a href="#帮助封底计算" class="headerlink" title="帮助封底计算"></a>帮助封底计算</h2><ul>
<li>两个不同方面的答案对比</li>
<li>量纲检测</li>
<li>经验法则</li>
<li>实践</li>
</ul>
<h2 id="性能估计-安全系数"><a href="#性能估计-安全系数" class="headerlink" title="性能估计 + 安全系数"></a>性能估计 + 安全系数</h2>
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/uploads/avatar.jpeg" alt="RUOPENG XU">
            
              <p class="site-author-name" itemprop="name">RUOPENG XU</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">67</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">47</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">66</span>
                    <span class="site-state-item-name">tags</span>
                  
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                  
                    
                  
                  <a href="https://github.com/Bigphess" title="GitHub &rarr; https://github.com/Bigphess" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i></a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                  
                    
                  
                  <a href="mailto:xrp0308@gmail.com" title="E-Mail &rarr; mailto:xrp0308@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i></a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  
    <div id="sidebar-dimmer"></div>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">RUOPENG XU</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.0.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.1"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.1"></script>




  

  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  



  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
